<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>朱阳星的日常</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.zhuyangxing.cn/"/>
  <updated>2017-01-18T07:45:07.000Z</updated>
  <id>http://www.zhuyangxing.cn/</id>
  
  <author>
    <name>朱阳星</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Building APIs with Node.js一书阅读问题汇总</title>
    <link href="http://www.zhuyangxing.cn/2017/01/06/Building%20APIs%20with%20Node.js%E4%B8%80%E4%B9%A6%E9%98%85%E8%AF%BB%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/"/>
    <id>http://www.zhuyangxing.cn/2017/01/06/Building APIs with Node.js一书阅读问题汇总/</id>
    <published>2017-01-06T08:16:29.000Z</published>
    <updated>2017-01-18T07:45:07.000Z</updated>
    
    <content type="html"><![CDATA[<p>该书地址：<a href="http://www.apress.com/cn/book/9781484224410" target="_blank" rel="external">这里</a><br>该书代码： <a href="https://github.com/caio-ribeiro-pereira/building-apis-with-nodejs" target="_blank" rel="external">这里</a></p>
<h2 id="1-安装sqlite3时出现卡主不动问题："><a href="#1-安装sqlite3时出现卡主不动问题：" class="headerlink" title="1. 安装sqlite3时出现卡主不动问题："></a>1. 安装sqlite3时出现卡主不动问题：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ npm i  sqlite3 --save</div><div class="line">&gt; sqlite3@3.1.8 install /Users/zyx/code/lean-api/ntask-api/node_modules/sqlite3</div><div class="line">&gt; node-pre-gyp install --fallback-to-build</div></pre></td></tr></table></figure>
<p>一直卡到这里不动，而加载其他npm包则没有问题。在查找错误原因时发现了 <a href="http://support.ghost.org/troubleshooting/#sqlite3-errors" target="_blank" rel="external">http://support.ghost.org/troubleshooting/#sqlite3-errors</a><br>里面有提到通过</p>
<blockquote>
<p>To get more information about what’s failing, run <code>npm install sqlite3 --loglevel=info</code>. You should then find a more detailed messages explaining   </p>
</blockquote>
<p>通过这个终于发现应该还是 GFW 的原因。<br>详细信息如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div></pre></td><td class="code"><pre><div class="line">&gt; sqlite3@3.1.8 install /Users/zyx/code/lean-api/ntask-api/node_modules/sqlite3</div><div class="line">&gt; node-pre-gyp install --fallback-to-build</div><div class="line"></div><div class="line">node-pre-gyp info it worked if it ends with ok</div><div class="line">node-pre-gyp info using node-pre-gyp@0.6.31</div><div class="line">node-pre-gyp info using node@7.3.0 | darwin | x64</div><div class="line">node-pre-gyp info check checked for &quot;/Users/zyx/code/lean-api/ntask-api/node_modules/sqlite3/lib/binding/node-v51-darwin-x64/node_sqlite3.node&quot; (not found)</div><div class="line">node-pre-gyp http GET https://mapbox-node-binary.s3.amazonaws.com/sqlite3/v3.1.8/node-v51-darwin-x64.tar.gz</div><div class="line">node-pre-gyp http 200 https://mapbox-node-binary.s3.amazonaws.com/sqlite3/v3.1.8/node-v51-darwin-x64.tar.gz</div><div class="line">node-pre-gyp info install unpacking node_sqlite3.node</div><div class="line">node-pre-gyp info tarball done parsing tarball</div><div class="line">node-pre-gyp info validate Running test command: &apos;/usr/local/bin/node --eval &apos;require(\&apos;/Users/zyx/code/lean-api/ntask-api/node_modules/sqlite3/lib/binding/node-v51-darwin-x64/node_sqlite3.node\&apos;)&apos;&apos;</div><div class="line">[sqlite3] Success: &quot;/Users/zyx/code/lean-api/ntask-api/node_modules/sqlite3/lib/binding/node-v51-darwin-x64/node_sqlite3.node&quot; is installed via remote</div><div class="line">node-pre-gyp info ok</div><div class="line">npm info lifecycle minimist@0.0.8~postinstall: minimist@0.0.8</div><div class="line">npm info lifecycle mkdirp@0.5.1~postinstall: mkdirp@0.5.1</div><div class="line">npm info lifecycle abbrev@1.0.9~postinstall: abbrev@1.0.9</div><div class="line">npm info lifecycle nopt@3.0.6~postinstall: nopt@3.0.6</div><div class="line">npm info lifecycle delegates@1.0.0~postinstall: delegates@1.0.0</div><div class="line">npm info lifecycle buffer-shims@1.0.0~postinstall: buffer-shims@1.0.0</div><div class="line">npm info lifecycle core-util-is@1.0.2~postinstall: core-util-is@1.0.2</div><div class="line">npm info lifecycle inherits@2.0.3~postinstall: inherits@2.0.3</div><div class="line">npm info lifecycle isarray@1.0.0~postinstall: isarray@1.0.0</div><div class="line">npm info lifecycle process-nextick-args@1.0.7~postinstall: process-nextick-args@1.0.7</div><div class="line">npm info lifecycle string_decoder@0.10.31~postinstall: string_decoder@0.10.31</div><div class="line">npm info lifecycle util-deprecate@1.0.2~postinstall: util-deprecate@1.0.2</div><div class="line">npm info lifecycle readable-stream@2.1.5~postinstall: readable-stream@2.1.5</div><div class="line">npm info lifecycle are-we-there-yet@1.1.2~postinstall: are-we-there-yet@1.1.2</div><div class="line">npm info lifecycle console-control-strings@1.1.0~postinstall: console-control-strings@1.1.0</div><div class="line">npm info lifecycle aproba@1.0.4~postinstall: aproba@1.0.4</div><div class="line">npm info lifecycle has-color@0.1.7~postinstall: has-color@0.1.7</div><div class="line">npm info lifecycle has-unicode@2.0.1~postinstall: has-unicode@2.0.1</div><div class="line">npm info lifecycle object-assign@4.1.0~postinstall: object-assign@4.1.0</div><div class="line">npm info lifecycle signal-exit@3.0.1~postinstall: signal-exit@3.0.1</div><div class="line">npm info lifecycle number-is-nan@1.0.1~postinstall: number-is-nan@1.0.1</div><div class="line">npm info lifecycle code-point-at@1.0.1~postinstall: code-point-at@1.0.1</div><div class="line">npm info lifecycle number-is-nan@1.0.1~postinstall: number-is-nan@1.0.1</div><div class="line">npm info lifecycle is-fullwidth-code-point@1.0.0~postinstall: is-fullwidth-code-point@1.0.0</div><div class="line">npm info lifecycle ansi-regex@2.0.0~postinstall: ansi-regex@2.0.0</div><div class="line">npm info lifecycle strip-ansi@3.0.1~postinstall: strip-ansi@3.0.1</div><div class="line">npm info lifecycle string-width@1.0.2~postinstall: string-width@1.0.2</div><div class="line">npm info lifecycle wide-align@1.1.0~postinstall: wide-align@1.1.0</div><div class="line">npm info lifecycle gauge@2.6.0~postinstall: gauge@2.6.0</div><div class="line">npm info lifecycle set-blocking@2.0.0~postinstall: set-blocking@2.0.0</div><div class="line">npm info lifecycle npmlog@4.0.0~postinstall: npmlog@4.0.0</div><div class="line">npm info lifecycle deep-extend@0.4.1~postinstall: deep-extend@0.4.1</div><div class="line">npm info lifecycle ini@1.3.4~postinstall: ini@1.3.4</div><div class="line">npm info lifecycle minimist@1.2.0~postinstall: minimist@1.2.0</div><div class="line">npm info lifecycle strip-json-comments@1.0.4~postinstall: strip-json-comments@1.0.4</div><div class="line">npm info lifecycle rc@1.1.6~postinstall: rc@1.1.6</div><div class="line">npm info lifecycle aws-sign2@0.6.0~postinstall: aws-sign2@0.6.0</div><div class="line">npm info lifecycle aws4@1.5.0~postinstall: aws4@1.5.0</div><div class="line">npm info lifecycle caseless@0.11.0~postinstall: caseless@0.11.0</div><div class="line">npm info lifecycle delayed-stream@1.0.0~postinstall: delayed-stream@1.0.0</div><div class="line">npm info lifecycle combined-stream@1.0.5~postinstall: combined-stream@1.0.5</div><div class="line">npm info lifecycle extend@3.0.0~postinstall: extend@3.0.0</div><div class="line">npm info lifecycle forever-agent@0.6.1~postinstall: forever-agent@0.6.1</div><div class="line">npm info lifecycle asynckit@0.4.0~postinstall: asynckit@0.4.0</div><div class="line">npm info lifecycle ansi-styles@2.2.1~postinstall: ansi-styles@2.2.1</div><div class="line">npm info lifecycle escape-string-regexp@1.0.5~postinstall: escape-string-regexp@1.0.5</div><div class="line">npm info lifecycle ansi-regex@2.0.0~postinstall: ansi-regex@2.0.0</div><div class="line">npm info lifecycle has-ansi@2.0.0~postinstall: has-ansi@2.0.0</div><div class="line">npm info lifecycle ansi-regex@2.0.0~postinstall: ansi-regex@2.0.0</div><div class="line">npm info lifecycle strip-ansi@3.0.1~postinstall: strip-ansi@3.0.1</div><div class="line">npm info lifecycle supports-color@2.0.0~postinstall: supports-color@2.0.0</div><div class="line">npm info lifecycle chalk@1.1.3~postinstall: chalk@1.1.3</div><div class="line">npm info lifecycle graceful-readlink@1.0.1~postinstall: graceful-readlink@1.0.1</div><div class="line">npm info lifecycle commander@2.9.0~postinstall: commander@2.9.0</div><div class="line">npm info lifecycle generate-function@2.0.0~postinstall: generate-function@2.0.0</div><div class="line">npm info lifecycle is-property@1.0.2~postinstall: is-property@1.0.2</div><div class="line">npm info lifecycle generate-object-property@1.2.0~postinstall: generate-object-property@1.2.0</div><div class="line">npm info lifecycle jsonpointer@4.0.0~postinstall: jsonpointer@4.0.0</div><div class="line">npm info lifecycle xtend@4.0.1~postinstall: xtend@4.0.1</div><div class="line">npm info lifecycle is-my-json-valid@2.15.0~postinstall: is-my-json-valid@2.15.0</div><div class="line">npm info lifecycle pinkie@2.0.4~postinstall: pinkie@2.0.4</div><div class="line">npm info lifecycle pinkie-promise@2.0.1~postinstall: pinkie-promise@2.0.1</div><div class="line">npm info lifecycle har-validator@2.0.6~postinstall: har-validator@2.0.6</div><div class="line">npm info lifecycle hoek@2.16.3~postinstall: hoek@2.16.3</div><div class="line">npm info lifecycle boom@2.10.1~postinstall: boom@2.10.1</div><div class="line">npm info lifecycle cryptiles@2.0.5~postinstall: cryptiles@2.0.5</div><div class="line">npm info lifecycle sntp@1.0.9~postinstall: sntp@1.0.9</div><div class="line">npm info lifecycle hawk@3.1.3~postinstall: hawk@3.1.3</div><div class="line">npm info lifecycle assert-plus@0.2.0~postinstall: assert-plus@0.2.0</div><div class="line">npm info lifecycle extsprintf@1.0.2~postinstall: extsprintf@1.0.2</div><div class="line">npm info lifecycle json-schema@0.2.3~postinstall: json-schema@0.2.3</div><div class="line">npm info lifecycle verror@1.3.6~postinstall: verror@1.3.6</div><div class="line">npm info lifecycle jsprim@1.3.1~postinstall: jsprim@1.3.1</div><div class="line">npm info lifecycle asn1@0.2.3~postinstall: asn1@0.2.3</div><div class="line">npm info lifecycle assert-plus@1.0.0~postinstall: assert-plus@1.0.0</div><div class="line">npm info lifecycle dashdash@1.14.0~postinstall: dashdash@1.14.0</div><div class="line">npm info lifecycle getpass@0.1.6~postinstall: getpass@0.1.6</div><div class="line">npm info lifecycle jsbn@0.1.0~postinstall: jsbn@0.1.0</div><div class="line">npm info lifecycle ecc-jsbn@0.1.1~postinstall: ecc-jsbn@0.1.1</div><div class="line">npm info lifecycle jodid25519@1.0.2~postinstall: jodid25519@1.0.2</div><div class="line">npm info lifecycle tweetnacl@0.14.3~postinstall: tweetnacl@0.14.3</div><div class="line">npm info lifecycle bcrypt-pbkdf@1.0.0~postinstall: bcrypt-pbkdf@1.0.0</div><div class="line">npm info lifecycle sshpk@1.10.1~postinstall: sshpk@1.10.1</div><div class="line">npm info lifecycle http-signature@1.1.1~postinstall: http-signature@1.1.1</div><div class="line">npm info lifecycle is-typedarray@1.0.0~postinstall: is-typedarray@1.0.0</div><div class="line">npm info lifecycle isstream@0.1.2~postinstall: isstream@0.1.2</div><div class="line">npm info lifecycle json-stringify-safe@5.0.1~postinstall: json-stringify-safe@5.0.1</div><div class="line">npm info lifecycle mime-db@1.24.0~postinstall: mime-db@1.24.0</div><div class="line">npm info lifecycle mime-types@2.1.12~postinstall: mime-types@2.1.12</div><div class="line">npm info lifecycle form-data@2.1.1~postinstall: form-data@2.1.1</div><div class="line">npm info lifecycle node-uuid@1.4.7~postinstall: node-uuid@1.4.7</div><div class="line">npm info lifecycle oauth-sign@0.8.2~postinstall: oauth-sign@0.8.2</div><div class="line">npm info lifecycle qs@6.3.0~postinstall: qs@6.3.0</div><div class="line">npm info lifecycle stringstream@0.0.5~postinstall: stringstream@0.0.5</div><div class="line">npm info lifecycle punycode@1.4.1~postinstall: punycode@1.4.1</div><div class="line">npm info lifecycle tough-cookie@2.3.2~postinstall: tough-cookie@2.3.2</div><div class="line">npm info lifecycle tunnel-agent@0.4.3~postinstall: tunnel-agent@0.4.3</div><div class="line">npm info lifecycle request@2.76.0~postinstall: request@2.76.0</div><div class="line">npm info lifecycle fs.realpath@1.0.0~postinstall: fs.realpath@1.0.0</div><div class="line">npm info lifecycle wrappy@1.0.2~postinstall: wrappy@1.0.2</div><div class="line">npm info lifecycle inherits@2.0.3~postinstall: inherits@2.0.3</div><div class="line">npm info lifecycle balanced-match@0.4.2~postinstall: balanced-match@0.4.2</div><div class="line">npm info lifecycle concat-map@0.0.1~postinstall: concat-map@0.0.1</div><div class="line">npm info lifecycle brace-expansion@1.1.6~postinstall: brace-expansion@1.1.6</div><div class="line">npm info lifecycle minimatch@3.0.3~postinstall: minimatch@3.0.3</div><div class="line">npm info lifecycle wrappy@1.0.2~postinstall: wrappy@1.0.2</div><div class="line">npm info lifecycle once@1.4.0~postinstall: once@1.4.0</div><div class="line">npm info lifecycle inflight@1.0.6~postinstall: inflight@1.0.6</div><div class="line">npm info lifecycle path-is-absolute@1.0.1~postinstall: path-is-absolute@1.0.1</div><div class="line">npm info lifecycle glob@7.1.1~postinstall: glob@7.1.1</div><div class="line">npm info lifecycle rimraf@2.5.4~postinstall: rimraf@2.5.4</div><div class="line">npm info lifecycle semver@5.3.0~postinstall: semver@5.3.0</div><div class="line">npm info lifecycle ms@0.7.1~postinstall: ms@0.7.1</div><div class="line">npm info lifecycle debug@2.2.0~postinstall: debug@2.2.0</div><div class="line">npm info lifecycle inherits@2.0.3~postinstall: inherits@2.0.3</div><div class="line">npm info lifecycle balanced-match@0.4.2~postinstall: balanced-match@0.4.2</div><div class="line">npm info lifecycle concat-map@0.0.1~postinstall: concat-map@0.0.1</div><div class="line">npm info lifecycle brace-expansion@1.1.6~postinstall: brace-expansion@1.1.6</div><div class="line">npm info lifecycle minimatch@3.0.3~postinstall: minimatch@3.0.3</div><div class="line">npm info lifecycle graceful-fs@4.1.9~postinstall: graceful-fs@4.1.9</div><div class="line">npm info lifecycle inherits@2.0.3~postinstall: inherits@2.0.3</div><div class="line">npm info lifecycle fstream@1.0.10~postinstall: fstream@1.0.10</div><div class="line">npm info lifecycle fstream-ignore@1.0.5~postinstall: fstream-ignore@1.0.5</div><div class="line">npm info lifecycle wrappy@1.0.2~postinstall: wrappy@1.0.2</div><div class="line">npm info lifecycle once@1.3.3~postinstall: once@1.3.3</div><div class="line">npm info lifecycle buffer-shims@1.0.0~postinstall: buffer-shims@1.0.0</div><div class="line">npm info lifecycle core-util-is@1.0.2~postinstall: core-util-is@1.0.2</div><div class="line">npm info lifecycle inherits@2.0.3~postinstall: inherits@2.0.3</div><div class="line">npm info lifecycle isarray@1.0.0~postinstall: isarray@1.0.0</div><div class="line">npm info lifecycle process-nextick-args@1.0.7~postinstall: process-nextick-args@1.0.7</div><div class="line">npm info lifecycle string_decoder@0.10.31~postinstall: string_decoder@0.10.31</div><div class="line">npm info lifecycle util-deprecate@1.0.2~postinstall: util-deprecate@1.0.2</div><div class="line">npm info lifecycle readable-stream@2.1.5~postinstall: readable-stream@2.1.5</div><div class="line">npm info lifecycle uid-number@0.0.6~postinstall: uid-number@0.0.6</div><div class="line">npm info lifecycle graceful-fs@4.1.9~postinstall: graceful-fs@4.1.9</div><div class="line">npm info lifecycle inherits@2.0.3~postinstall: inherits@2.0.3</div><div class="line">npm info lifecycle block-stream@0.0.9~postinstall: block-stream@0.0.9</div><div class="line">npm info lifecycle fstream@1.0.10~postinstall: fstream@1.0.10</div><div class="line">npm info lifecycle tar@2.2.1~postinstall: tar@2.2.1</div><div class="line">npm info lifecycle tar-pack@3.3.0~postinstall: tar-pack@3.3.0</div><div class="line">npm info lifecycle nan@2.4.0~postinstall: nan@2.4.0</div><div class="line">npm info lifecycle node-pre-gyp@0.6.31~postinstall: node-pre-gyp@0.6.31</div><div class="line">npm info lifecycle sqlite3@3.1.8~postinstall: sqlite3@3.1.8</div><div class="line">ntask-api@1.0.0 /Users/zyx/code/lean-api/ntask-api</div><div class="line">└─┬ sqlite3@3.1.8</div><div class="line">  ├── nan@2.4.0</div><div class="line">  └─┬ node-pre-gyp@0.6.31</div><div class="line">    ├─┬ mkdirp@0.5.1</div><div class="line">    │ └── minimist@0.0.8</div><div class="line">    ├─┬ nopt@3.0.6</div><div class="line">    │ └── abbrev@1.0.9</div><div class="line">    ├─┬ npmlog@4.0.0</div><div class="line">    │ ├─┬ are-we-there-yet@1.1.2</div><div class="line">    │ │ ├── delegates@1.0.0</div><div class="line">    │ │ └─┬ readable-stream@2.1.5</div><div class="line">    │ │   ├── buffer-shims@1.0.0</div><div class="line">    │ │   ├── core-util-is@1.0.2</div><div class="line">    │ │   ├── inherits@2.0.3</div><div class="line">    │ │   ├── isarray@1.0.0</div><div class="line">    │ │   ├── process-nextick-args@1.0.7</div><div class="line">    │ │   ├── string_decoder@0.10.31</div><div class="line">    │ │   └── util-deprecate@1.0.2</div><div class="line">    │ ├── console-control-strings@1.1.0</div><div class="line">    │ ├─┬ gauge@2.6.0</div><div class="line">    │ │ ├── aproba@1.0.4</div><div class="line">    │ │ ├── has-color@0.1.7</div><div class="line">    │ │ ├── has-unicode@2.0.1</div><div class="line">    │ │ ├── object-assign@4.1.0</div><div class="line">    │ │ ├── signal-exit@3.0.1</div><div class="line">    │ │ ├─┬ string-width@1.0.2</div><div class="line">    │ │ │ ├─┬ code-point-at@1.0.1</div><div class="line">    │ │ │ │ └── number-is-nan@1.0.1</div><div class="line">    │ │ │ └─┬ is-fullwidth-code-point@1.0.0</div><div class="line">    │ │ │   └── number-is-nan@1.0.1</div><div class="line">    │ │ ├─┬ strip-ansi@3.0.1</div><div class="line">    │ │ │ └── ansi-regex@2.0.0</div><div class="line">    │ │ └── wide-align@1.1.0</div><div class="line">    │ └── set-blocking@2.0.0</div><div class="line">    ├─┬ rc@1.1.6</div><div class="line">    │ ├── deep-extend@0.4.1</div><div class="line">    │ ├── ini@1.3.4</div><div class="line">    │ ├── minimist@1.2.0</div><div class="line">    │ └── strip-json-comments@1.0.4</div><div class="line">    ├─┬ request@2.76.0</div><div class="line">    │ ├── aws-sign2@0.6.0</div><div class="line">    │ ├── aws4@1.5.0</div><div class="line">    │ ├── caseless@0.11.0</div><div class="line">    │ ├─┬ combined-stream@1.0.5</div><div class="line">    │ │ └── delayed-stream@1.0.0</div><div class="line">    │ ├── extend@3.0.0</div><div class="line">    │ ├── forever-agent@0.6.1</div><div class="line">    │ ├─┬ form-data@2.1.1</div><div class="line">    │ │ └── asynckit@0.4.0</div><div class="line">    │ ├─┬ har-validator@2.0.6</div><div class="line">    │ │ ├─┬ chalk@1.1.3</div><div class="line">    │ │ │ ├── ansi-styles@2.2.1</div><div class="line">    │ │ │ ├── escape-string-regexp@1.0.5</div><div class="line">    │ │ │ ├─┬ has-ansi@2.0.0</div><div class="line">    │ │ │ │ └── ansi-regex@2.0.0</div><div class="line">    │ │ │ ├─┬ strip-ansi@3.0.1</div><div class="line">    │ │ │ │ └── ansi-regex@2.0.0</div><div class="line">    │ │ │ └── supports-color@2.0.0</div><div class="line">    │ │ ├─┬ commander@2.9.0</div><div class="line">    │ │ │ └── graceful-readlink@1.0.1</div><div class="line">    │ │ ├─┬ is-my-json-valid@2.15.0</div><div class="line">    │ │ │ ├── generate-function@2.0.0</div><div class="line">    │ │ │ ├─┬ generate-object-property@1.2.0</div><div class="line">    │ │ │ │ └── is-property@1.0.2</div><div class="line">    │ │ │ ├── jsonpointer@4.0.0</div><div class="line">    │ │ │ └── xtend@4.0.1</div><div class="line">    │ │ └─┬ pinkie-promise@2.0.1</div><div class="line">    │ │   └── pinkie@2.0.4</div><div class="line">    │ ├─┬ hawk@3.1.3</div><div class="line">    │ │ ├── boom@2.10.1</div><div class="line">    │ │ ├── cryptiles@2.0.5</div><div class="line">    │ │ ├── hoek@2.16.3</div><div class="line">    │ │ └── sntp@1.0.9</div><div class="line">    │ ├─┬ http-signature@1.1.1</div><div class="line">    │ │ ├── assert-plus@0.2.0</div><div class="line">    │ │ ├─┬ jsprim@1.3.1</div><div class="line">    │ │ │ ├── extsprintf@1.0.2</div><div class="line">    │ │ │ ├── json-schema@0.2.3</div><div class="line">    │ │ │ └── verror@1.3.6</div><div class="line">    │ │ └─┬ sshpk@1.10.1</div><div class="line">    │ │   ├── asn1@0.2.3</div><div class="line">    │ │   ├── assert-plus@1.0.0</div><div class="line">    │ │   ├── bcrypt-pbkdf@1.0.0</div><div class="line">    │ │   ├── dashdash@1.14.0</div><div class="line">    │ │   ├── ecc-jsbn@0.1.1</div><div class="line">    │ │   ├── getpass@0.1.6</div><div class="line">    │ │   ├── jodid25519@1.0.2</div><div class="line">    │ │   ├── jsbn@0.1.0</div><div class="line">    │ │   └── tweetnacl@0.14.3</div><div class="line">    │ ├── is-typedarray@1.0.0</div><div class="line">    │ ├── isstream@0.1.2</div><div class="line">    │ ├── json-stringify-safe@5.0.1</div><div class="line">    │ ├─┬ mime-types@2.1.12</div><div class="line">    │ │ └── mime-db@1.24.0</div><div class="line">    │ ├── node-uuid@1.4.7</div><div class="line">    │ ├── oauth-sign@0.8.2</div><div class="line">    │ ├── qs@6.3.0</div><div class="line">    │ ├── stringstream@0.0.5</div><div class="line">    │ ├─┬ tough-cookie@2.3.2</div><div class="line">    │ │ └── punycode@1.4.1</div><div class="line">    │ └── tunnel-agent@0.4.3</div><div class="line">    ├─┬ rimraf@2.5.4</div><div class="line">    │ └─┬ glob@7.1.1</div><div class="line">    │   ├── fs.realpath@1.0.0</div><div class="line">    │   ├─┬ inflight@1.0.6</div><div class="line">    │   │ └── wrappy@1.0.2</div><div class="line">    │   ├── inherits@2.0.3</div><div class="line">    │   ├─┬ minimatch@3.0.3</div><div class="line">    │   │ └─┬ brace-expansion@1.1.6</div><div class="line">    │   │   ├── balanced-match@0.4.2</div><div class="line">    │   │   └── concat-map@0.0.1</div><div class="line">    │   ├─┬ once@1.4.0</div><div class="line">    │   │ └── wrappy@1.0.2</div><div class="line">    │   └── path-is-absolute@1.0.1</div><div class="line">    ├── semver@5.3.0</div><div class="line">    ├─┬ tar@2.2.1</div><div class="line">    │ ├── block-stream@0.0.9</div><div class="line">    │ ├─┬ fstream@1.0.10</div><div class="line">    │ │ └── graceful-fs@4.1.9</div><div class="line">    │ └── inherits@2.0.3</div><div class="line">    └─┬ tar-pack@3.3.0</div><div class="line">      ├─┬ debug@2.2.0</div><div class="line">      │ └── ms@0.7.1</div><div class="line">      ├─┬ fstream@1.0.10</div><div class="line">      │ ├── graceful-fs@4.1.9</div><div class="line">      │ └── inherits@2.0.3</div><div class="line">      ├─┬ fstream-ignore@1.0.5</div><div class="line">      │ ├── inherits@2.0.3</div><div class="line">      │ └─┬ minimatch@3.0.3</div><div class="line">      │   └─┬ brace-expansion@1.1.6</div><div class="line">      │     ├── balanced-match@0.4.2</div><div class="line">      │     └── concat-map@0.0.1</div><div class="line">      ├─┬ once@1.3.3</div><div class="line">      │ └── wrappy@1.0.2</div><div class="line">      ├─┬ readable-stream@2.1.5</div><div class="line">      │ ├── buffer-shims@1.0.0</div><div class="line">      │ ├── core-util-is@1.0.2</div><div class="line">      │ ├── inherits@2.0.3</div><div class="line">      │ ├── isarray@1.0.0</div><div class="line">      │ ├── process-nextick-args@1.0.7</div><div class="line">      │ ├── string_decoder@0.10.31</div><div class="line">      │ └── util-deprecate@1.0.2</div><div class="line">      └── uid-number@0.0.6</div><div class="line"></div><div class="line">npm WARN ntask-api@1.0.0 No description</div><div class="line">npm WARN ntask-api@1.0.0 No repository field.</div><div class="line">npm info ok</div></pre></td></tr></table></figure></p>
<h2 id="2-安装bcrypt包问题-Error-bcrypt-0-8-7-install-node-gyp-rebuild"><a href="#2-安装bcrypt包问题-Error-bcrypt-0-8-7-install-node-gyp-rebuild" class="headerlink" title="2.安装bcrypt包问题 Error: bcrypt@0.8.7 install: node-gyp rebuild"></a>2.安装bcrypt包问题 Error: bcrypt@0.8.7 install: <code>node-gyp rebuild</code></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Agreeing to the Xcode/iOS license requires admin privileges, please re-run as root via sudo.</div><div class="line">Agreeing to the Xcode/iOS license requires admin privileges, please re-run as root via sudo.</div></pre></td></tr></table></figure>
<p>解决方法如下：</p>
<blockquote>
<p>this generally occurs after the mac OS update. All you need to do in terminal is run <code>sudo xcodebuild -license</code> and then agree to the terms. and then <code>npm install</code> is ok</p>
</blockquote>
<p><a href="http://stackoverflow.com/questions/32720476/agreeing-to-the-xcode-ios-license-requires-admin-privileges-please-re-run-as-ro" target="_blank" rel="external">key about the solution</a></p>
]]></content>
    
    <summary type="html">
    
      Building APIs with Node.js 遇到问题汇总
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>工作中遇到的部分问题</title>
    <link href="http://www.zhuyangxing.cn/2016/11/19/%E5%B7%A5%E4%BD%9C%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%83%A8%E5%88%86%E9%97%AE%E9%A2%98/"/>
    <id>http://www.zhuyangxing.cn/2016/11/19/工作中遇到的部分问题/</id>
    <published>2016-11-19T12:24:58.000Z</published>
    <updated>2017-01-18T07:41:57.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="js在浏览器里无法正常运行"><a href="#js在浏览器里无法正常运行" class="headerlink" title="js在浏览器里无法正常运行"></a>js在浏览器里无法正常运行</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> d1= <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"2016-6-6"</span>);</div><div class="line">alert(d1);</div><div class="line"><span class="comment">//chrome及模拟器返回值：Mon Jun 06 2016 00:00:00 GMT+0800 (中国标准时间)</span></div><div class="line"><span class="comment">//ios返回值： Invalid Date</span></div><div class="line"></div><div class="line"><span class="comment">//for of 为es6的内容，手误将for in 写成了for of</span></div><div class="line"><span class="comment">//为了这个问题查找了半天,部分浏览器还不支持for of chrome测试没问题</span></div><div class="line"><span class="comment">//for(index in arr),for(value of arr)</span></div><div class="line"><span class="keyword">var</span> arr=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>],str=<span class="string">""</span>;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> arr)&#123;</div><div class="line">    str+=arr[i]);</div><div class="line">&#125;</div><div class="line">alert(<span class="string">"---hello----"</span>);</div><div class="line">alert(str);</div></pre></td></tr></table></figure>
<h3 id="margin-bottom在ios里不起作用"><a href="#margin-bottom在ios里不起作用" class="headerlink" title="margin-bottom在ios里不起作用"></a><code>margin-bottom</code>在ios里不起作用</h3><p>详细问题描述：<br>在<code>html</code>设置高度为100%的前提下,<code>body</code>的子元素设置<code>margin-bottom</code>不起作用,如果页面够长则直接贴着页面的最下方<br>解决办法：<br>1.在该元素的外层包一个外层容器,让该元素的<code>margin-bottom</code>把外层元素撑起来就可以了。<br>2.要么就是去掉<code>html</code>上的<code>100%</code></p>
]]></content>
    
    <summary type="html">
    
      记录部分工作中遇到的问题
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>git常用命令</title>
    <link href="http://www.zhuyangxing.cn/2016/11/17/GIT%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>http://www.zhuyangxing.cn/2016/11/17/GIT常用命令/</id>
    <published>2016-11-17T05:21:35.000Z</published>
    <updated>2017-01-18T08:19:25.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="git-log-命令"><a href="#git-log-命令" class="headerlink" title="git log 命令"></a>git log 命令</h2><h4 id="git-log-n"><a href="#git-log-n" class="headerlink" title="git log -n"></a>git log -n</h4><p>显示前N条日志</p>
<h4 id="git-log-–stat-n"><a href="#git-log-–stat-n" class="headerlink" title="git log –stat -n"></a>git log –stat -n</h4><p>显示简要的增改行数统计,每次提交文件的变更统计</p>
<h4 id="git-log-–pretty-format-”-“"><a href="#git-log-–pretty-format-”-“" class="headerlink" title="git log –pretty=format:” “"></a>git log –pretty=format:” “</h4><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>%H</td>
<td>提交对象（commit）的完整哈希字串   </td>
</tr>
<tr>
<td>%h</td>
<td>提交对象的简短哈希字串  </td>
</tr>
<tr>
<td>%T</td>
<td>树对象（tree）的完整哈希字串  </td>
</tr>
<tr>
<td>%t</td>
<td>树对象的简短哈希字串  </td>
</tr>
<tr>
<td>%P</td>
<td>父对象（parent）的完整哈希字串  </td>
</tr>
<tr>
<td>%p</td>
<td>父对象的简短哈希字串  </td>
</tr>
<tr>
<td>%an</td>
<td>作者（author）的名字  </td>
</tr>
<tr>
<td>%ae</td>
<td>作者的电子邮件地址  </td>
</tr>
<tr>
<td>%ad</td>
<td>作者修订日期（可以用 -date= 选项定制格式）  </td>
</tr>
<tr>
<td>%ar</td>
<td>作者修订日期，按多久以前的方式显示  </td>
</tr>
<tr>
<td>%cn</td>
<td>提交者(committer)的名字  </td>
</tr>
<tr>
<td>%ce</td>
<td>提交者的电子邮件地址  </td>
</tr>
<tr>
<td>%cd</td>
<td>提交日期  </td>
</tr>
<tr>
<td>%cr</td>
<td>提交日期，按多久以前的方式显示  </td>
</tr>
<tr>
<td>%s</td>
<td>提交说明  </td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">git log --pretty=format:&quot; %s&quot; -3</div><div class="line">test:add new question add question6</div><div class="line">test:add new question add question5</div><div class="line">test:add new question</div><div class="line">//命令好用，起个别名</div><div class="line">git config alias.logs &quot;log --pretty=format:&apos;%s&apos;&quot;</div><div class="line">// 以后就可以使用如下命令，命令结果和上面一条命令结果一样</div><div class="line">git logs -3</div><div class="line">// 某些文件或某个文件的最近3次记录</div><div class="line">git logs -3  static/*.html</div><div class="line">// 指定作者为&quot;BeginMan&quot;的所有提交</div><div class="line">git log --author=BeginMan</div><div class="line">// 指定关键字为“init”的所有提交</div><div class="line">git log --grep=init</div><div class="line">// 指定提交者为&quot;Jack&quot;的所有提交</div><div class="line">git log --committer=Jack</div><div class="line">  </div><div class="line">//查看文件的修改记录 可以看到提交版本</div><div class="line">git log demo/js/propagation.js</div><div class="line">commit bdbcf6226b05207fc4d4a6b56ab566ff0744295e</div><div class="line">//回退到指定版本</div><div class="line">git reset bdbcf6226b05207fc4d4a6b56ab566ff0744295e demo/js/propagation.js</div></pre></td></tr></table></figure>
<h2 id="git-Commit-message"><a href="#git-Commit-message" class="headerlink" title="git Commit message"></a>git Commit message</h2><p>Commit message 都包括三个部分：Header，Body 和 Footer。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</div><div class="line">// 空一行</div><div class="line">&lt;body&gt;</div><div class="line">// 空一行</div><div class="line">&lt;footer&gt;</div></pre></td></tr></table></figure></p>
<p> Header部分只有一行，包括三个字段：type（必需）、scope（可选）和subject（必需）</p>
<table>
<thead>
<tr>
<th>type</th>
<th>意义</th>
</tr>
</thead>
<tbody>
<tr>
<td>feat</td>
<td>新功能（feature）</td>
</tr>
<tr>
<td>fix</td>
<td>修补bug  </td>
</tr>
<tr>
<td>docs</td>
<td>文档（documentation）  </td>
</tr>
<tr>
<td>style</td>
<td>格式（不影响代码运行的变动）  </td>
</tr>
<tr>
<td>refactor</td>
<td>重构（即不是新增功能，也不是修改bug的代码变动）  </td>
</tr>
<tr>
<td>test</td>
<td>增加测试  </td>
</tr>
<tr>
<td>chore</td>
<td>构建过程或辅助工具的变动  </td>
</tr>
</tbody>
</table>
<p>scope用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。</p>
<p>subject是 commit 目的的简短描述，不超过50个字符。</p>
<blockquote>
<p>以动词开头，使用第一人称现在时，比如change，而不是changed或changes<br>第一个字母小写<br>结尾不加句号（.）  </p>
</blockquote>
<p>总结：<code>commit message应包含type+&quot;:&quot;+subject</code></p>
<h2 id="git-issues"><a href="#git-issues" class="headerlink" title="git issues"></a>git issues</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// 关闭一个</div><div class="line">Closes #234</div><div class="line">// 关闭多个issue</div><div class="line">Closes #123, #245, #992</div></pre></td></tr></table></figure>
<h2 id="git-branch"><a href="#git-branch" class="headerlink" title="git branch"></a>git branch</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line">查看所有分支(前面带*号的代表你当前工作目录所处的分支)</div><div class="line">git branch -a  </div><div class="line"></div><div class="line"></div><div class="line">创建test分支</div><div class="line">git branch test  </div><div class="line"></div><div class="line">切换到test分支</div><div class="line">git checkout test  </div><div class="line"></div><div class="line">删除本地test分支</div><div class="line">git branch -d test</div><div class="line"></div><div class="line">删除远程test分支</div><div class="line">git push origin --delete test</div><div class="line"></div><div class="line">合并分支(把test分支合并到master分支上)</div><div class="line">git checkout master</div><div class="line">git merge test</div><div class="line"></div><div class="line">把当前test分支提交到远程test分支</div><div class="line">git push origin test</div><div class="line"></div><div class="line">把本地所有分支提交到远程相对应的分支上</div><div class="line">git push</div><div class="line"></div><div class="line"></div><div class="line">//复制代码库到本地</div><div class="line">git clone http://192.168.1.231/group-two/jujusports-web.git</div><div class="line"></div><div class="line">//添加所有未添加的文件</div><div class="line">git add .</div><div class="line"></div><div class="line"></div><div class="line">//查看版本区别只显示文件名字</div><div class="line">git diff --name-only</div><div class="line"></div><div class="line">//git 查看某版本文件</div><div class="line">//git show 版本号 文件名</div><div class="line">git show 33e636914bf61536fe56d3872338f0087c1a1e5c static/order_undone.html</div><div class="line"></div><div class="line">//刚创建git需要添加分支</div><div class="line">git push -u origin master</div><div class="line"></div><div class="line">//git撤销用branch上代码覆盖本地仓库及本地工程</div><div class="line">git checkout routes/index.js</div><div class="line"></div><div class="line">git reset [--hard|soft|mixed|merge|keep]</div><div class="line">/*</div><div class="line">[&lt;commit&gt;或HEAD]：将当前的分支重设（reset）到指定的&lt;commit&gt;或者HEAD（默认，如果不显示指定commit，默认是HEAD，即最新的一次提交），并且根据[mode]有可能更新index和working directory。mode的取值可以是hard、soft、mixed、merged、keep。下面来详细说明每种模式的意义和效果。</div><div class="line">A). --hard：重设（reset） index和working directory，自从&lt;commit&gt;以来在working directory中的任何改变都被丢弃，并把HEAD指向&lt;commit&gt;。</div><div class="line">B). --soft：index和working directory中的内容不作任何改变，仅仅把HEAD指向&lt;commit&gt;。这个模式的效果是，执行完毕后，自从&lt;commit&gt;以来的所有改变都会显示在git status的"Changes to be committed"中。</div><div class="line">C).  --mixed：仅reset index，但是不reset working directory。这个模式是默认模式，即当不显示告知git reset模式时，会使用mixed模式。这个模式的效果是，working directory中文件的修改都会被保留，不会丢弃，但是也不会被标记成"Changes to be committed"，但是会打出什么还未被更新的报告。报告如下：</div><div class="line">引用</div><div class="line">Unstaged changes after reset:</div><div class="line">M Test.Scala</div><div class="line">M test.txt</div><div class="line">*/</div></pre></td></tr></table></figure>
<h2 id="git-config"><a href="#git-config" class="headerlink" title="git config"></a>git config</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">git config --global user.name  openks</div><div class="line">git config --global user.email  zhuyangxing@foxmail.com</div><div class="line">//显示所有配置</div><div class="line">git config --list</div><div class="line">//保存git的用户名密码</div><div class="line">git config --global credential.helper store</div></pre></td></tr></table></figure>
<p><a href="http://note.youdao.com/yws/public/redirect/share?id=5f785b0976e591a76c962e0624feec5a&amp;type=false" target="_blank" rel="external">有道分享</a></p>
]]></content>
    
    <summary type="html">
    
      git常用命令记录
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>mongodb相关内容学习</title>
    <link href="http://www.zhuyangxing.cn/2016/11/17/mongodb%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9%E5%AD%A6%E4%B9%A0/"/>
    <id>http://www.zhuyangxing.cn/2016/11/17/mongodb相关内容学习/</id>
    <published>2016-11-17T05:21:35.000Z</published>
    <updated>2017-01-18T07:43:40.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="windows下安装mongodb"><a href="#windows下安装mongodb" class="headerlink" title="windows下安装mongodb"></a>windows下安装mongodb</h3><p>下载exe文件并安装<br>创建数据库文件的存放位置，比如<code>f:/mongodb/data/db</code>。<br>启动mongodb服务之前需要必须创建数据库文件的存放文件夹，否则命令不会自动创建，而且不能启动成功。</p>
<p>进入mongodb安装文件的bin目录（默认：<code>C:\Program Files\MongoDB\Server\3.0\bin</code>），<br>输入如下的命令设置mongoDB的dbpath：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mongod --dbpath f:\mongodb\data\db</div></pre></td></tr></table></figure></p>
<p>打开<a href="http://localhost:27017" target="_blank" rel="external">http://localhost:27017</a>查看是否启动成功</p>
<p>为了以后不用每次都添加<code>--dbpath</code>参数,需做如下设置<br>在<code>f:\mongodb</code>新建文件<code>mongo.config</code>并填写内容如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">dbpath=f:\mongodb\data\db</div><div class="line">logpath=f:\mongodb\log\mongo.log</div></pre></td></tr></table></figure></p>
<p>进入mongodb安装文件的bin目录，输入如下的命令添加mongodb配置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mongod --config F:\mongodb\mongo.config</div></pre></td></tr></table></figure></p>
<p>如果发现新生成日志文件则表示配置成功。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//安装windows服务</span></div><div class="line">mongod --config f:\mongodb\mongo.config -install -serviceName <span class="string">"MongoDB"</span></div><div class="line"><span class="comment">//进入mongoDB shell</span></div><div class="line">cd C:\Program Files\MongoDB\Server\<span class="number">3.0</span>\bin</div><div class="line">mongo</div><div class="line"><span class="comment">//也可以将mongo所在路径加入环境变量path中,之后就可以直接在cmd里输入mongo进而打开mongo shell</span></div></pre></td></tr></table></figure>
<p><a href="https://docs.mongodb.com/manual/" target="_blank" rel="external">mongoDB使用手册</a></p>
<h3 id="mongodb部分命令"><a href="#mongodb部分命令" class="headerlink" title="mongodb部分命令"></a>mongodb部分命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div></pre></td><td class="code"><pre><div class="line">//启用mongo shell</div><div class="line">mongo</div><div class="line">//连接远程mongo shell</div><div class="line">mongo 192.168.1.100</div><div class="line">//显示数据库</div><div class="line">show dbs</div><div class="line">//切换数据库</div><div class="line">use dbname</div><div class="line">//显示当前正在使用的数据库</div><div class="line">db</div><div class="line">//显示当前数据库下面的所有集合(数据库里的数据表)</div><div class="line">show collections</div><div class="line">//导出test数据库到data/backup文件夹下</div><div class="line">mongodump -d test -o data/backup  </div><div class="line">//在要恢复的文件夹的父级目录里使用如下命令</div><div class="line">mongorestore data/backup</div><div class="line"></div><div class="line">//Use mongoexport to export the data: 导出test数据库下面的traffic表到traffic.json文件</div><div class="line">mongoexport --db test --collection traffic --out traffic.json</div><div class="line"></div><div class="line">mongoimport --db users --collection contacts --file contacts.json</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">//插入记录</div><div class="line">db.collectionName.insert(&#123;&quot;userName&quot;:&quot;zs0&quot;,&quot;birthday&quot;:&quot;1999-09-09&quot;,&quot;passWord&quot;:&quot;123456&quot;,&quot;gender&quot;:0&#125;);</div><div class="line">//返回结果入下</div><div class="line">//WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)</div><div class="line"></div><div class="line">//插入一条记录 New in version 3.2</div><div class="line">db.collectionName.insertOne(&#123;&quot;userName&quot;:&quot;zs10&quot;,&quot;birthday&quot;:&quot;1999-09-09&quot;,&quot;passWord&quot;:&quot;123456&quot;,&quot;gender&quot;:0&#125;);</div><div class="line">// 返回结果如下</div><div class="line">&#123;</div><div class="line">    &quot;acknowledged&quot; : true,</div><div class="line">    &quot;insertedId&quot; : ObjectId(&quot;57e8ef4a0a3c3720c7a9650d&quot;)</div><div class="line">&#125;</div><div class="line"></div><div class="line">//插入多条记录 New in version 3.2</div><div class="line">db.collectionName.insertMany([</div><div class="line">    &#123;&quot;userName&quot;:&quot;zs3&quot;,&quot;birthday&quot;:&quot;1999-09-09&quot;,&quot;passWord&quot;:&quot;123456&quot;,&quot;gender&quot;:0&#125;,</div><div class="line">    &#123;&quot;userName&quot;:&quot;zs1&quot;,&quot;birthday&quot;:&quot;1999-09-09&quot;,&quot;passWord&quot;:&quot;123456&quot;,&quot;gender&quot;:0&#125;,</div><div class="line">    &#123;&quot;userName&quot;:&quot;zs2&quot;,&quot;birthday&quot;:&quot;1999-09-09&quot;,&quot;passWord&quot;:&quot;123456&quot;,&quot;gender&quot;:0&#125;]</div><div class="line">);</div><div class="line">//返回值如下</div><div class="line">&#123;</div><div class="line">    &quot;acknowledged&quot; : true,</div><div class="line">    &quot;insertedIds&quot; : [</div><div class="line">        ObjectId(&quot;57e8ef810a3c3720c7a9650e&quot;),</div><div class="line">        ObjectId(&quot;57e8ef810a3c3720c7a9650f&quot;),</div><div class="line">        ObjectId(&quot;57e8ef810a3c3720c7a96510&quot;)</div><div class="line">    ]</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">//查找全部数据</div><div class="line">db.collectionName.find();</div><div class="line">//查找全部数据但显示前两条</div><div class="line">db.collectionName.find().limit(2);</div><div class="line">//查看查询结果数量</div><div class="line">db.collectionName.find().count();</div><div class="line">//美化查询结果</div><div class="line">db.collectionName.find().pretty();</div><div class="line">//只显示需要列(_id默认显示,如果不需要显示必须显式阻止) 类似于命令 select username, email from users</div><div class="line">db.collectionName.find(&#123;&#125;, &#123;&quot;username&quot; : 1, &quot;email&quot; : 1, &quot;_id&quot; : 0&#125;)</div><div class="line">//单属性匹配</div><div class="line">db.collectionName.find(&#123;&quot;name&quot;:&quot;zs&quot;&#125;);</div><div class="line">db.collectionName.find(&#123;&quot;user.name&quot;:&quot;zs&quot;&#125;);</div><div class="line">//多属性同时匹配</div><div class="line">db.collectionName.find(&#123;&quot;age&quot;:20,&quot;name&quot;:&quot;zs&quot;&#125;);</div><div class="line">//正则表达式匹配 find  name startwith &quot;z&quot; and endWith &quot;s&quot;</div><div class="line">db.collectionName.find(&#123;&quot;name&quot;:/^z/&#125;,&#123;&quot;name&quot;:/s$/&#125;);</div><div class="line">//正则表达式匹配 find  name 包含BD字符串</div><div class="line">db.collectionName.find(&#123;&quot;name&quot;:/BD+/&#125;);</div><div class="line">//where条件匹配</div><div class="line">db.collectionName.find(&#123;$where:function()&#123;return this.name=&quot;zs&quot;&#125;&#125;);</div><div class="line">//find age&lt;23 gl:less than</div><div class="line">db.collectionName.find(&#123;&quot;age&quot;:&#123;$lt:23&#125;&#125;);</div><div class="line">//find age&gt;23 gt：greater than</div><div class="line">db.collectionName.find(&#123;&quot;age&quot;:&#123;$gt:23&#125;&#125;);</div><div class="line">//find name=&quot;zs&quot; || age=20</div><div class="line">db.collectionName.find(&#123;$or:[&#123;&quot;age&quot;:20&#125;,&#123;&quot;name&quot;:&quot;zs&quot;&#125;]&#125;);</div><div class="line">//find age in (10,20,22)</div><div class="line">db.collectionName.find(&#123;&quot;age&quot;:&#123;$in:[10,20,22]&#125;&#125;);</div><div class="line">//find age not in (10,20,22)</div><div class="line">db.collectionName.find(&#123;&quot;age&quot;:&#123;$nin:[10,20,22]&#125;&#125;);</div><div class="line"></div><div class="line"></div><div class="line">//修改name=zs为new_ZS 年龄为40</div><div class="line">db.person.update(&#123;&quot;name&quot;:&quot;zs&quot;&#125;,&#123;&quot;name&quot;:&quot;new_ZS&quot;,&quot;age&quot;:40&#125;);</div><div class="line">//年龄增加20</div><div class="line">db.person.update(&#123;&quot;name&quot;:&quot;zs&quot;&#125;,&#123;$inc:&#123;&quot;age&quot;:20&#125;&#125;);</div><div class="line">//年龄设置为33</div><div class="line">db.person.update(&#123;&quot;name&quot;:&quot;zs&quot;&#125;,&#123;$set:&#123;&quot;age&quot;:33&#125;&#125;);</div><div class="line">//第三个参数true，表示更新条件找不到时增加一条记录</div><div class="line">db.person.update(&#123;&quot;name&quot;:&quot;szs&quot;&#125;,&#123;$set:&#123;&quot;age&quot;:33&#125;&#125;,true);</div><div class="line">//第四个参数表示更新全部数据</div><div class="line">db.person.update(&#123;&quot;name&quot;:&quot;zs&quot;&#125;,&#123;$inc:&#123;&quot;age&quot;:20&#125;&#125;，true,true);</div><div class="line">//对表中所有数据增加birthday列并设置其默认值</div><div class="line">db.person.update(&#123;&#125;,&#123;$set:&#123;&quot;birthday&quot;:&quot;1991-01-01&quot;&#125;&#125;,true,true);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">//删除某集合下`name`字段值为`new_ZS`的记录</div><div class="line">db.collectionName.remove(&#123;&quot;name&quot;:&quot;new_ZS&quot;&#125;);</div><div class="line">//删除某集合下的全部数据（清空表）</div><div class="line">db.collectionName.remove(&#123;&#125;);</div><div class="line">//删除某集合下某字段（eg：userName）不存在的记录</div><div class="line">db.collectionName.remove( &#123; &quot;userName&quot;: &#123; $exists: false &#125; &#125; )</div><div class="line">//删除某集合（删除某表）</div><div class="line">db.collectionName.drop();</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">//统计年龄为20的记录条数</div><div class="line">db.person.count(&#123;&quot;age&quot;:20&#125;);</div><div class="line">//name不重复的记录</div><div class="line">db.person.distinct(&quot;name&quot;);</div><div class="line">//name字段升序排列</div><div class="line">db.person.ensureIndex(&#123;&quot;name&quot;:1&#125;)</div><div class="line">db.person.ensureIndex(&#123;&quot;name&quot;:1&#125;,&#123;&quot;unique&quot;:true&#125;);</div><div class="line">//非空唯一 可以为空</div><div class="line">db.person.ensureIndex(&#123;&quot;name&quot;:1&#125;,&#123;&quot;unique&quot;:true,&quot;sparse&quot;:true&#125;);</div><div class="line">db.person.find(&#123;&quot;name&quot;:&quot;ns&quot;&#125;).explain();</div><div class="line">db.person.ensureIndex(&#123;&quot;name&quot;:1,&quot;age&quot;:1&#125;);</div><div class="line">//获取该集合的索引</div><div class="line">db.person.getIndexes();</div><div class="line">// 要删除的索引名字需通过查看得到</div><div class="line">db.person.dropIndexes(&quot;name_1&quot;);</div></pre></td></tr></table></figure>
<h2 id="Mac-OSX-下安装MongoDB"><a href="#Mac-OSX-下安装MongoDB" class="headerlink" title="Mac OSX 下安装MongoDB"></a>Mac OSX 下安装MongoDB</h2><p>1.把从官网上下的文件，型如：mongodb-osx-x86_64-3.4.0 解压到Applications文件夹<br>2.在根目录下新建mongodb文件夹,新建db文件夹（存放数据）mongodb/data/db<br>3.<code>sudo chown －R ./Users/zyx mongodb/data</code> 设置权限<br>4.新建文件mongodb/etc/mongod.conf和mongodb/etc/mongod.log<br>5.进入到bin目录，使用<code>mongod --config /Users/zyx/mongodb/etc/mongod.conf</code> 设置mongod 配置。<br>6.如果看到waiting for connections on port 27017<br>7.可以打开浏览器输入：localhost:27017,如果看到It looks like you are trying to access MongoDB over HTTP on the native<br> driver port 说明连接成功了。<br>8.点击终端 Commond+N 打开一个新的终端 cd 到bin目录 ./mongo 便可连接到数据库进行操作  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">#mongodb config file</div><div class="line">dbpath=/Users/zyx/mongodb/data/db</div><div class="line">logpath=/Users/zyx/mongodb/etc/mongod.log</div><div class="line">logappend = true</div></pre></td></tr></table></figure>
<h2 id="Mac-OSX-下设置环境变量"><a href="#Mac-OSX-下设置环境变量" class="headerlink" title="Mac OSX 下设置环境变量"></a>Mac OSX 下设置环境变量</h2><p>1.打开 应用程序 -&gt; 实用工具 -&gt; 终端；<br>2.在终端中定位到自己用户的主目录，输入： <code>cd ~</code>；<br>3.创建一个空文件，输入：<code>touch .bash_profile</code> ；<br>4.编辑这个文件，输入：<code>open .bash_profile</code> ；<br>5.在这个文件中输入：<code>export PATH=${PATH}:&lt;文件目录&gt;</code>；（将”&lt;文件目录&gt;”替换成自己想要的目录）<br>例如：<code>export PATH=${PATH}:/Users/skythinking/MongoDB/mongodb-osx-x86_64-2.6.1/bin</code>;<br>6.如果需要添加其他的环境变量例如JAVA_HOME，可以输入：<code>export JAVA_HOME=/Library/Java/Home</code> ；<br>7.<code>source .bash_profile</code>重启终端，测试,这个时候就可以在用户主目录使用上面配置过的配置文件进行设置<code>mongod --config /Users/zyx/mongodb/etc/mongod.conf</code>   来启动数据库了，点击终端Commond+N打开一个新的终端，使用mongo命令来连接数据库，对数据库进行操作,比如：<code>show dbs</code> 显示所有的集合  </p>
<h2 id="Mac-OSX-下设置MongoDB的开机启动"><a href="#Mac-OSX-下设置MongoDB的开机启动" class="headerlink" title="Mac OSX 下设置MongoDB的开机启动"></a>Mac OSX 下设置MongoDB的开机启动</h2><p>Mac 下用于初始化系统环境的关键经常是 launchd，它是内核转载成功后启动的第一个进程。<br>所以设置服务的开机启动要用到这个进程。采用 launchd 开机启动 需要配置一个plist文件。</p>
<p>开机启动分为两种：<br>     1、在用户登陆前启动；( plist文件放置在目录：~/Library/LaunchDaemons )<br>     2、在用户登陆后启动。( plist文件放置在目录：~/Library/LaunchAgents )</p>
<p>如 MongoDB 的开机启动,需要在 LaunchDaemons 或 LaunchAgents 创建一个 plist文件。<br>如 org.mongodb.mongod.plist 内容如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">&lt;plist version=&quot;1.0&quot;&gt;</div><div class="line">&lt;dict&gt;</div><div class="line">  &lt;key&gt;Label&lt;/key&gt;</div><div class="line">  &lt;string&gt;org.mongodb.mongod&lt;/string&gt;</div><div class="line">  &lt;key&gt;ProgramArguments&lt;/key&gt;</div><div class="line">  &lt;array&gt;</div><div class="line">    &lt;string&gt;/Users/zyx/Applications/mongodb-osx-x86_64-3.4.0/bin/mongod&lt;/string&gt;</div><div class="line">    &lt;string&gt;-f&lt;/string&gt;</div><div class="line">    &lt;string&gt;/Users/zyx/mongodb/etc/mongod.conf&lt;/string&gt;</div><div class="line">  &lt;/array&gt;</div><div class="line">  &lt;key&gt;RunAtLoad&lt;/key&gt;</div><div class="line">  &lt;true/&gt;</div><div class="line">  &lt;key&gt;KeepAlive&lt;/key&gt;</div><div class="line">  &lt;false/&gt;</div><div class="line">  &lt;key&gt;WorkingDirectory&lt;/key&gt;</div><div class="line">  &lt;string&gt;/Users/zyx/Applications/mongodb-osx-x86_64-3.4.0&lt;/string&gt;</div><div class="line">  &lt;key&gt;StandardErrorPath&lt;/key&gt;</div><div class="line">  &lt;string&gt;/Users/zyx/mongodb/etc/output.log&lt;/string&gt;</div><div class="line">  &lt;key&gt;StandardOutPath&lt;/key&gt;</div><div class="line">  &lt;string&gt;/Users/zyx/mongodb/etc/output.log&lt;/string&gt;</div><div class="line">  &lt;key&gt;HardResourceLimits&lt;/key&gt;</div><div class="line">  &lt;dict&gt;</div><div class="line">    &lt;key&gt;NumberOfFiles&lt;/key&gt;</div><div class="line">    &lt;integer&gt;1024&lt;/integer&gt;</div><div class="line">  &lt;/dict&gt;</div><div class="line">  &lt;key&gt;SoftResourceLimits&lt;/key&gt;</div><div class="line">  &lt;dict&gt;</div><div class="line">    &lt;key&gt;NumberOfFiles&lt;/key&gt;</div><div class="line">    &lt;integer&gt;1024&lt;/integer&gt;</div><div class="line">  &lt;/dict&gt;</div><div class="line">&lt;/dict&gt;</div><div class="line">&lt;/plist&gt;</div></pre></td></tr></table></figure></p>
<p>注意：以上的几个目录需要自己按自己的安装路径设置<br>plist 文件创建好后 根据自己设置执行如下命令加载到 开机启动中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo launchctl load /Library/LaunchDaemons/org.mongodb.mongod.plist</div></pre></td></tr></table></figure>
<p>或者<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo launchctl load /Library/LaunchAgents/org.mongodb.mongod.plist</div></pre></td></tr></table></figure></p>
<p>命令执行后 mongodb 将会马上启动，下次也会随开机而启动。<br>可通过<a href="http://127.0.0.1:27017/" target="_blank" rel="external">http://127.0.0.1:27017</a>查看是否启动成功。</p>
]]></content>
    
    <summary type="html">
    
      mongodb安装,shell命令记录
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>express允许多个网站跨域访问</title>
    <link href="http://www.zhuyangxing.cn/2016/11/17/express%E5%85%81%E8%AE%B8%E5%A4%9A%E4%B8%AA%E7%BD%91%E7%AB%99%E8%B7%A8%E5%9F%9F%E8%AE%BF%E9%97%AE/"/>
    <id>http://www.zhuyangxing.cn/2016/11/17/express允许多个网站跨域访问/</id>
    <published>2016-11-17T05:21:35.000Z</published>
    <updated>2017-01-18T07:42:35.000Z</updated>
    
    <content type="html"><![CDATA[<p><code>Access-Control-Allow-Origin</code>只允许一个值不允许多个值，我们会很自然的理解为多个域添加逗号，但是的确不行，该属性的值只允许一个值。<br><strong>解决方案：</strong><br>判断当前请求的host，是否在允许列表如果在允许列表，则设置<code>Access-Control-Allow-Origin</code>属性为该请求的host即可。详细代码入下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//设置允许跨域访问</span></div><div class="line">app.all(<span class="string">'/api/*'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="comment">//把允许的域都写在allows数组里即可</span></div><div class="line">  <span class="keyword">var</span> allows = [<span class="string">"http://openks.oschina.io"</span>, <span class="string">"http://www.zhuyangxing.cn"</span>];</div><div class="line">  <span class="comment">//线上环境使用线上地址，线下环境使用线下地址。也可把所有地址写在允许的数组里不用判断线上和线下环境</span></div><div class="line">  <span class="keyword">if</span> (process.env.SERVER_SOFTWARE != <span class="literal">undefined</span> &amp;&amp; process.env.SERVER_SOFTWARE.indexOf(<span class="string">"bae"</span>) &gt; <span class="number">-1</span>) &#123;</div><div class="line">    <span class="keyword">if</span> (allows.indexOf(req.headers.origin) &gt; <span class="number">-1</span>) &#123;</div><div class="line">      res.header(<span class="string">"Access-Control-Allow-Origin"</span>, req.headers.origin);</div><div class="line">    &#125;</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    res.header(<span class="string">"Access-Control-Allow-Origin"</span>, <span class="string">"http://10.10.11.222"</span>);</div><div class="line">  &#125;</div><div class="line">  res.header(<span class="string">"Access-Control-Allow-Headers"</span>, <span class="string">"X-Requested-With"</span>);</div><div class="line">  res.header(<span class="string">"Access-Control-Allow-Methods"</span>, <span class="string">"PUT,POST,GET,DELETE,OPTIONS"</span>);</div><div class="line">  res.header(<span class="string">"Content-Type"</span>, <span class="string">"application/json;charset=utf-8"</span>);</div><div class="line">  next();</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>当然也可以使用<code>npm</code>上已经存在的插件<code>cors</code> 关于 <code>cors</code>更多信息在<a href="https://www.npmjs.com/package/cors" target="_blank" rel="external">这里</a></p>
]]></content>
    
    <summary type="html">
    
      express允许多个网站跨域访问简单办法
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>在BAE上部署nodejs项目</title>
    <link href="http://www.zhuyangxing.cn/2016/11/10/BAE%E9%83%A8%E7%BD%B2nodejs%E9%A1%B9%E7%9B%AE/"/>
    <id>http://www.zhuyangxing.cn/2016/11/10/BAE部署nodejs项目/</id>
    <published>2016-11-10T13:20:55.000Z</published>
    <updated>2017-01-18T07:41:42.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="在BAE上添加应用-并clone代码"><a href="#在BAE上添加应用-并clone代码" class="headerlink" title="在BAE上添加应用,并clone代码"></a>在BAE上添加应用,并clone代码</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//从git clone代码</div><div class="line">git clone https://git.duapp.com/appid9rupli9dyd</div></pre></td></tr></table></figure>
<h2 id="安装express"><a href="#安装express" class="headerlink" title="安装express"></a>安装express</h2><p>在<code>appid9rupli9dyd</code>文件夹安装express<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">//安装express</div><div class="line">npm install express --save</div><div class="line">//安装express生成器</div><div class="line">npm install express-generator -g</div><div class="line">//-e 启用ejs模板(默认jade) -f 在非空文件夹生成目录结构</div><div class="line">express -e-f</div><div class="line">//项目初始化，修改当前package.json文件</div><div class="line">npm init</div><div class="line">//安装依赖包</div><div class="line">npm install</div><div class="line">//以debug方式启动项目</div><div class="line">SET DEBUG=appid9rupli9dyd:* &amp; npm start</div></pre></td></tr></table></figure></p>
<p>本地3000端口查看效果 <a href="http://127.0.0.1:3000" target="_blank" rel="external">http://127.0.0.1:3000</a></p>
<p>因为BAE使用的是18080端口需要修改端口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">//在app.js 文件导出之前添加默认端口修改</div><div class="line">process.env.PORT =18080;</div><div class="line">`</div></pre></td></tr></table></figure></p>
<p>重启后去本地3000及18080端口查看效果 <a href="http://127.0.0.1:18080" target="_blank" rel="external">http://127.0.0.1:18080</a> ，3000端口已经不能访问，18080端口可访问</p>
<p>修改代码需要重新部署，我们可以通过使用supervisor提高nodejs调试效率,可以做到修改代码自动部署，使用起来也很简单</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#全局安装supervisor</span></div><div class="line">npm install -g supervisor</div><div class="line">supervisor bin/www</div></pre></td></tr></table></figure>
<p>public 目录可以直接访问，我不习惯使用默认，会修改为js,css,img同时会修改相对应的路径</p>
<h2 id="部署BAE"><a href="#部署BAE" class="headerlink" title="部署BAE"></a>部署BAE</h2><p>上传代码到BAE,发现报错，错误信息如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">552 occured because of user code error</div><div class="line"></div><div class="line">your package.json file error</div><div class="line"></div><div class="line">pacakge.json must json file and must contain &quot;scripts&quot;:&#123;&quot;start&quot;:&quot;node xxx.js&quot;&#125;</div><div class="line"></div><div class="line">please modify your package.json and recommit your code</div><div class="line"></div><div class="line">Error Message is</div><div class="line"></div><div class="line">[2016-07-29 14:47:57.550] [ERROR] manager - catch signal SIGTERM, manager will exit</div><div class="line">[2016-07-29 14:48:00.316] [ERROR] manager - scripts.start in package.json must contain &quot;.js&quot;, but your scripts.start is &quot;node ./bin/www&quot;</div><div class="line">get more message, please check manager.log</div></pre></td></tr></table></figure></p>
<p>start 必须以.js结尾。重命名<code>bin/www</code>为<code>bin/www.js</code>即可</p>
<p>如果不上传依赖文件,错误信息如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">失败原因：编译失败</div><div class="line">失败信息：Fix depends failed. Please check requirements.txt or package.json.</div><div class="line"></div><div class="line">npm ERR! Linux 3.10.1-grsec</div><div class="line">npm ERR! argv &quot;/home/bae/bae/node-v4.4.4-linux-x64/bin/node&quot; &quot;/home/bae/bae/node-v4.4.4-linux-x64/bin/npm&quot; &quot;install&quot; &quot;--production&quot;</div><div class="line">npm ERR! node v4.4.4</div><div class="line">npm ERR! npm v2.15.1</div><div class="line">npm ERR! failed to fetch from registry: http://registry.cnpmjs.org/morgan</div><div class="line">npm ERR!</div><div class="line">npm ERR! If you need help, you may report this error at:</div><div class="line">npm ERR! &lt;https://github.com/npm/npm/issues&gt;</div><div class="line">npm ERR! Please include the following file with any support request:</div><div class="line">npm ERR! /home/bae/run/baeng/helios/work/appid9rupli9dyd/.bae/npm-debug.log</div></pre></td></tr></table></figure></p>
<p>一看就知道依赖加载失败，把依赖文件夹整体上传就可以了。<br>由于BAE使用的可视化界面为rockmongo,而且不能远程连接不能使用mongoshell,所以我们需要稍微了解下rockmongo</p>
<h2 id="rockmongo"><a href="#rockmongo" class="headerlink" title="rockmongo"></a>rockmongo</h2><p>插入数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">array(</div><div class="line">  &quot;userName&quot; : &quot;张三疯&quot;,</div><div class="line">  &quot;passWord&quot; : &quot;123456&quot;,</div><div class="line">  &quot;birthday&quot; : &quot;1991-01-01&quot;,</div><div class="line">  &quot;gender&quot; : 2</div><div class="line">)</div><div class="line">//结果</div><div class="line">array (</div><div class="line">  &apos;_id&apos; =&gt; new MongoId(&quot;579b0eb5b6939eec77000000&quot;),</div><div class="line">  &apos;userName&apos; =&gt; &apos;张三疯&apos;,</div><div class="line">  &apos;passWord&apos; =&gt; &apos;123456&apos;,</div><div class="line">  &apos;birthday&apos; =&gt; &apos;1991-01-01&apos;,</div><div class="line">  &apos;gender&apos; =&gt; new MongoInt64(2),</div><div class="line">)</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      如何快速在BAE上部署项目及错误问题排查
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>开发利器之atom</title>
    <link href="http://www.zhuyangxing.cn/2016/10/17/atom/"/>
    <id>http://www.zhuyangxing.cn/2016/10/17/atom/</id>
    <published>2016-10-17T08:20:55.000Z</published>
    <updated>2017-01-18T07:41:25.000Z</updated>
    
    <content type="html"><![CDATA[<p>打开设置<br>windows<br> file / settings<br>mac<br> atom / Preferences</p>
<p>安装插件列表<br>minimap   缩略图<br>docblockr   jsdoc注释快速生成器<br>pigments   颜色显示插件<br>atom-jsfmt   格式化js插件<br>atom-css-comb css,less,scss,sass文件格式化<br>atom-beautify   格式化html,css,js,java,SQL 等<br>open_in_cmd  右键可以直接在cmd命令行中打开<br>sass-autocomplie 自动编译sass文件<br>script     run code in atom<br>node-debugger debugger for nodejs<br>atom-ternjs js自动补全引擎Adds support for ES5, ES6, ES7, Node.js, jQuery, Angular and more. Extendable via plugin<br>emmet html快速生成器<br>git-status 显示git状态<br>git-time-machine git时光机  </p>
<p>代码折叠<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">折叠一行 ctrl+alt+[</div><div class="line">展开折叠  ctrl+alt+]</div><div class="line">折叠多行选中后 ctrl+alt+shift+[</div><div class="line">展开多行折叠  ctrl+alt+shift+]</div><div class="line">调出F12控制台 ctrl+alt+i</div><div class="line">一次保存多个文件 ctrl+shift+s</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">keybinding</div><div class="line">&apos;atom-text-editor:not([mini])&apos;:</div><div class="line">  #删除行</div><div class="line">  &apos;ctrl-d&apos;: &apos;editor:delete-line&apos;</div><div class="line">&apos;atom-workspace&apos;:</div><div class="line">  #格式化</div><div class="line">  &apos;ctrl-shift-f&apos;: &apos;editor:auto-indent&apos;</div><div class="line">  #向下复制行</div><div class="line">  &apos;ctrl-alt-down&apos;: &apos;editor:duplicate-lines&apos;</div></pre></td></tr></table></figure>
<h2 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h2><p>Q1:保存文件自动格式化<br>A1:插件<code>atom-beautify</code>设置里有选项可以进行设置  </p>
<p>Q2:ATOM一行显示多个字符，不自动换行<br>A2:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//勾选后自动换行,取消勾选就不换行</div><div class="line">Soft Wrap</div><div class="line">//勾选后可自主设置每行显示字符数</div><div class="line">Soft Wrap At Preferred Line Length</div><div class="line">//自助设置的每行最多显示字数</div><div class="line">Preferred Line Length</div></pre></td></tr></table></figure></p>
<p>Q3:ATOM如何一次保存所有修改过的文件<br>A3:这个没找到，一个文件一个文件的保存吧,一个文件也就一次<code>ctrl+s</code>而已</p>
<p>Q4:apm里显示npm版本过低如何升级<br>A4:重新下载AOM并安装即可</p>
]]></content>
    
    <summary type="html">
    
      GitHub 发布的文本编辑器 Atom 介绍
    
    </summary>
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="工具" scheme="http://www.zhuyangxing.cn/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>OAuth2.0接入学习，含github和新浪</title>
    <link href="http://www.zhuyangxing.cn/2016/09/18/OAuth2.0%E6%8E%A5%E5%85%A5%E5%AD%A6%E4%B9%A0%EF%BC%8C%E5%90%ABgithub%E5%92%8C%E6%96%B0%E6%B5%AA/"/>
    <id>http://www.zhuyangxing.cn/2016/09/18/OAuth2.0接入学习，含github和新浪/</id>
    <published>2016-09-18T09:28:58.000Z</published>
    <updated>2017-01-14T05:31:39.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="github接入"><a href="#github接入" class="headerlink" title="github接入"></a>github接入</h1><p>github的<a href="https://developer.github.com/v3/oauth/" target="_blank" rel="external">文档</a>其实说的已经很明白了按照文档一步一步操作就可以了</p>
<p>总的来说有一下三步：<br>第一步:获取code<br>第二步:使用post获取access_token<br>第三步：根据access_token获取想要数据  </p>
<p>首先需要创建一个<a href="https://github.com/settings/applications/new" target="_blank" rel="external">应用</a>页面如下<br><img src="http://7xl9u9.com1.z0.glb.clouddn.com/2016-09-18_09-36-19.png" alt="image"><br>填写以上四个信息即可，填写完成效果如下：<br><img src="http://7xl9u9.com1.z0.glb.clouddn.com/2016-09-18_09-46-07.png" alt="image"><br>点击进如可看到如下信息<br><img src="http://7xl9u9.com1.z0.glb.clouddn.com/2016-09-18_09-38-52.png" alt="image"><br>可以得到一个Client ID 和 Client Secret 后面会用到。</p>
<p>第一步：<br>在自己页面添加按钮点击跳转到git获取权限页面，页面地址为：<code>https://github.com/login/oauth/authorize?client_id=client_id</code>  <a href="https://github.com/login/oauth/authorize?client_id=fdbdb307432243b88b1e" target="_blank" rel="external">我的例子在这里</a> 效果如图： </p>
<p><img src="http://7xl9u9.com1.z0.glb.clouddn.com/2016-09-18_10-53-00.png" alt="image"><br>如果不同意直接叉掉页面即可，如果同意则跳转到设置的授权回调地址,会带一个名为code的参数</p>
<p>第二步：<br>根据<code>client_id</code>,<code>client_secret</code>,<code>code</code>三个参数使用POST方法获取<code>access_token</code>返回的不止这一个还有其他参数<br><code>access_token=e72e16c7e42f292c6912e7710c838347ae178b4a&amp;scope=user%2Cgist&amp;token_type=bearer</code></p>
<p>第三步：<br>通过<code>access_token</code> 就可以使用github 提供的API了。<br>使用get请求<code>https://api.github.com/user?access_token=access_token</code><br>即可获取用户相关信息</p>
<h1 id="新浪微博接入"><a href="#新浪微博接入" class="headerlink" title="新浪微博接入"></a>新浪微博接入</h1><p>新浪的接入<a href="http://open.weibo.com/wiki/Oauth2/authorize" target="_blank" rel="external">文档</a></p>
<p>创建<a href="http://open.weibo.com/apps" target="_blank" rel="external">应用</a>创建后页面如下<br><img src="http://7xl9u9.com1.z0.glb.clouddn.com/2016-09-18_14-36-02.png" alt="image"></p>
<p>在接口管理，授权机制页面设置<code>授权回调页</code>和<code>取消授权回调页</code>地址<br>在网站信息和基本信息里可以看到<code>App Key</code>和<code>App Secret</code></p>
<p>第一步：<br>在自己页面添加按钮点击跳转到新浪微博获取权限页面，页面地址为：<code>https://api.weibo.com/oauth2/authorize?client_id=client_id&amp;redirect_uri=redirect_uri</code>  <a href="https://api.weibo.com/oauth2/authorize?client_id=2139214853&amp;redirect_uri=http://openks.duapp.com/oauth?t=weibo" target="_blank" rel="external">我的例子在这里</a> 效果如图： </p>
<p><img src="http://7xl9u9.com1.z0.glb.clouddn.com/2016-09-18_14-17-41.png" alt="image"><br>如果不同意直接叉掉页面即可，如果同意则跳转到设置的授权回调地址,会带一个名为code的参数</p>
<p>第二步：</p>
<p>根据<code>client_id(即AppKey)</code>,<code>client_secret(即AppSecret)</code>,<code>grant_type(需填写authorization_code)</code>,<code>redirect_uri</code>,<code>code(上一步返回的)</code>五个必须参数使用POST方法从<code>https://api.weibo.com/oauth2/access_token</code>获取<code>access_token</code>返回的不止这一个还有其他参数<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">       <span class="string">"access_token"</span>: <span class="string">"ACCESS_TOKEN"</span>,</div><div class="line">       <span class="string">"expires_in"</span>: <span class="number">1234</span>,</div><div class="line">       <span class="string">"remind_in"</span>:<span class="string">"798114"</span>,</div><div class="line">       <span class="string">"uid"</span>:<span class="string">"12341234"</span></div><div class="line"> &#125;</div></pre></td></tr></table></figure></p>
<p>第三步：<br>通过<code>access_token</code>及相关数据就可以使用微博提供的API了。<br>使用get请求<code>https://api.weibo.com/2/users/show.json?access_token=access_token&amp;uid=uid</code>其中uid为要查询用户id<br>即可获取用户相关信息</p>
<h1 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h1><p>点击使用第三方登录后跳转授权页面，授权完成后拿到<code>access_token</code>,根据<code>access_token</code>拿到用户id,把第三方名称加第三方用户id拼接字符串作为自己数据库里用户id,并设置为用户已登录，然后跳转页面到已登录页面，进入自己系统逻辑即可。</p>
]]></content>
    
    <summary type="html">
    
      OAuth2.0接入学习，含github和新浪
    
    </summary>
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>使用html页面浏览文件夹里的所有图片</title>
    <link href="http://www.zhuyangxing.cn/2016/09/18/%E4%BD%BF%E7%94%A8html%E9%A1%B5%E9%9D%A2%E6%B5%8F%E8%A7%88%E6%96%87%E4%BB%B6%E5%A4%B9%E9%87%8C%E7%9A%84%E6%89%80%E6%9C%89%E5%9B%BE%E7%89%87/"/>
    <id>http://www.zhuyangxing.cn/2016/09/18/使用html页面浏览文件夹里的所有图片/</id>
    <published>2016-09-18T09:27:35.000Z</published>
    <updated>2017-01-14T05:31:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>使用html页面浏览文件夹里的所有图片</p>
<h1 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h1><p>使用node服务器读取某文件夹下面的所有图片文件的文件名(jpg,png,jpeg,gif等,暂时只想到了这几个)，遍历所有文件名拼接字符串，使用生成的字符串填充新生成的html文件即可。</p>
<p>第一步：获取文件夹下的所有文件名<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</div><div class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</div><div class="line"><span class="keyword">var</span> m = fs.readdirSync(__dirname);</div><div class="line"><span class="built_in">console</span>.log(m);<span class="comment">//会打印文件夹下所有文件名及文件夹名称，m为数组</span></div></pre></td></tr></table></figure></p>
<p>第二步：判断是不是图片,并拼接<code>html</code>字符串<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">m[i].indexOf(<span class="string">".jpg"</span>) &gt; <span class="number">0</span></div></pre></td></tr></table></figure></p>
<p>第三步：把生成的字符串<code>str</code>填充到<code>index.html</code>文件中<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">fs.writeFile(<span class="string">"index.html"</span>, str, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"文件创建完成"</span>);</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>第四步：把文件夹名字作为<code>html</code>的<code>title</code><br>查看path的api找到有一个<a href="https://nodejs.org/api/path.html#path_path_parse_path" target="_blank" rel="external">parse</a>方法：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">path.parse(__dirname).name</div><div class="line"><span class="comment">//测试结果如下(dirname的name属性即父文件夹的名字)</span></div><div class="line"><span class="comment">//F:\code\personal\openks&gt;node test.js</span></div><div class="line">dirname:</div><div class="line"> &#123; <span class="attr">root</span>: <span class="string">'F:\\'</span>,</div><div class="line">  <span class="attr">dir</span>: <span class="string">'F:\\code\\personal'</span>,</div><div class="line">  <span class="attr">base</span>: <span class="string">'openks'</span>,</div><div class="line">  <span class="attr">ext</span>: <span class="string">''</span>,</div><div class="line">  <span class="attr">name</span>: <span class="string">'openks'</span> &#125;</div><div class="line">filename:</div><div class="line"> &#123; <span class="attr">root</span>: <span class="string">'F:\\'</span>,</div><div class="line">  <span class="attr">dir</span>: <span class="string">'F:\\code\\personal\\openks'</span>,</div><div class="line">  <span class="attr">base</span>: <span class="string">'test.js'</span>,</div><div class="line">  <span class="attr">ext</span>: <span class="string">'.js'</span>,</div><div class="line">  <span class="attr">name</span>: <span class="string">'test'</span> &#125;</div></pre></td></tr></table></figure></p>
<p>完整代码及使用方法详见<a href="http://openks.oschina.io/js/create-index.js" target="_blank" rel="external">这里</a></p>
]]></content>
    
    <summary type="html">
    
      通过nodejs使用html页面浏览文件夹里的所有图片
    
    </summary>
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>淘宝Rap服务使用简述</title>
    <link href="http://www.zhuyangxing.cn/2016/09/18/%E6%B7%98%E5%AE%9DRap%E6%9C%8D%E5%8A%A1%E4%BD%BF%E7%94%A8%E7%AE%80%E8%BF%B0/"/>
    <id>http://www.zhuyangxing.cn/2016/09/18/淘宝Rap服务使用简述/</id>
    <published>2016-09-18T09:26:34.000Z</published>
    <updated>2017-01-14T05:31:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>前端时间曾经发布文章说<a href="http://www.zhuyangxing.cn/2016/06/17/%E7%8B%AC%E7%AB%8B%E4%BA%8E%E5%90%8E%E7%AB%AF%E7%9A%84%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/">独立于后端的前端开发</a>,但是仍然需要自己写模拟数据，可以通过使用淘宝提供的rap服务来自动生成数据。需要在<a href="http://rap.taobao.org/org/index.do" target="_blank" rel="external">淘宝rap</a>上进行配置</p>
<p>注册后选择或创建一个团队，新建一个产品线，新建产品，创建项目，创建模块，创建页面<br>对页面的接口进行编辑，然后只需引入一个js文件即可使用模拟数据。<br><img src="http://7xl9u9.com1.z0.glb.clouddn.com/2016-09-18_17-07-45.png" alt="image"></p>
<p>可以通过项目的编辑添加接口，设置请求类型，请求连接，返回数据格式以及请求和返回数据的数据结构来新建接口，接口建完之后就可以通过引入js文件(在配置按钮里查看)就可以看到效果。</p>
<p>请求和响应参数均支持mock写法,经测试只支持部分 如@cfirst,@cname就不支持了。</p>
]]></content>
    
    <summary type="html">
    
      mockjs，生成随机数据，拦截 Ajax 请求，淘宝Rap服务使用简述
    
    </summary>
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>元素高度随兄弟元素高度变化而变化(二)</title>
    <link href="http://www.zhuyangxing.cn/2016/08/12/%E5%85%83%E7%B4%A0%E9%AB%98%E5%BA%A6%E9%9A%8F%E5%85%84%E5%BC%9F%E5%85%83%E7%B4%A0%E9%AB%98%E5%BA%A6%E5%8F%98%E5%8C%96%E8%80%8C%E5%8F%98%E5%8C%96(%E4%BA%8C)/"/>
    <id>http://www.zhuyangxing.cn/2016/08/12/元素高度随兄弟元素高度变化而变化(二)/</id>
    <published>2016-08-12T03:20:48.000Z</published>
    <updated>2017-01-14T05:31:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>之前曾写过一篇文章说如何实现<a href="http://www.zhuyangxing.cn/2016/05/30/%E5%85%83%E7%B4%A0%E9%AB%98%E5%BA%A6%E9%9A%8F%E5%85%84%E5%BC%9F%E5%85%83%E7%B4%A0%E9%AB%98%E5%BA%A6%E5%8F%98%E5%8C%96%E8%80%8C%E5%8F%98%E5%8C%96/">元素高度随兄弟元素高度变化而变化</a>的文章,但是发现并不符合新的需求,仍以原图为例<br><img src="http://7xl9u9.com1.z0.glb.clouddn.com/2016-5-30-15-24-43.png" alt="image"></p>
<p>现需求如下：</p>
<p>1.A、B元素平分C元素,即各占50%</p>
<p>2.A元素高度随B元素高度的变化而变化</p>
<p>3.B元素高度随A元素高度的变化而变化</p>
<p>简单来讲就是A,B任何一个元素高度变大则另一个元素的高度也会变大，这个效果有点类似table里的单元格，也就是table里的cell,想到有<code>display:table</code>属性，那自然应该有<code>display:table-cell</code>。结果一查api还真有,那就简单多了根本不用写js了直接样式就可以全搞定。父元素C用<code>display:table</code>,AB两个子元素用<code>display:table-cell</code>就可以了实现起来也是蛮简单的。  </p>
<p>可分别通过调节A元素的高度查看B元素的效果，通过调整B元素的高度查看A元素的效果</p>
<p><a href="http://www.zhuyangxing.cn/demo/div-auto-height.html">demo</a>在这里,如果打不开<a href="http://openks.oschina.io/demo/div-auto-height.html" target="_blank" rel="external">备用demo</a>在这里。</p>
<p></p><p data-height="490" data-theme-id="0" data-slug-hash="ZOVkYK" data-default-tab="result" data-user="openks" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/openks/pen/ZOVkYK/" target="_blank" rel="external">元素高度随兄弟元素高度变化而变化(二)</a> by openks (<a href="http://codepen.io/openks" target="_blank" rel="external">@openks</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p>
<script async src="//assets.codepen.io/assets/embed/ei.js"></script>
]]></content>
    
    <summary type="html">
    
      元素高度随兄弟元素高度变化而变化
    
    </summary>
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>用 CSS3 和 JavaScript 制作径向动画菜单</title>
    <link href="http://www.zhuyangxing.cn/2016/06/24/css3-menu/"/>
    <id>http://www.zhuyangxing.cn/2016/06/24/css3-menu/</id>
    <published>2016-06-24T06:41:23.000Z</published>
    <updated>2017-01-14T05:31:39.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="用-CSS3-和-JavaScript-制作径向动画菜单"><a href="#用-CSS3-和-JavaScript-制作径向动画菜单" class="headerlink" title="用 CSS3 和 JavaScript 制作径向动画菜单"></a>用 CSS3 和 JavaScript 制作径向动画菜单</h1><p>先看demo</p>
<p></p><p data-height="308" data-theme-id="0" data-slug-hash="WxRQJP" data-default-tab="result" data-user="openks" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/openks/pen/WxRQJP/" target="_blank" rel="external">圆形动画菜单</a> by openks (<a href="http://codepen.io/openks" target="_blank" rel="external">@openks</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p>
<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<p>html和css都不难，很容易实现，主要问题在于子图标个数和子图标之间的角度不一样<br>所有子节点都在O点，使用绝对定位后设置子节点的top和left值即可<br>以A点为例子(其中圆点为50%,50%)<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">left=(<span class="number">50</span>+AD距离)*<span class="number">100</span>%</div><div class="line">top=(<span class="number">50</span>-AE距离)*<span class="number">100</span>%</div></pre></td></tr></table></figure></p>
<p>一旦理解了这些就简单多了附图一张（其中n为子节点个数,i为第i个节点）<br><img src="http://7xl9u9.com1.z0.glb.clouddn.com/2016-06-24_15-18-30.png" alt="图片">;<br>来源在<a href="http://codepen.io/CreativePunch/pen/lAHiu" target="_blank" rel="external">这里</a><br>只不过我一直没看懂它到底是如何计算left和top的，不过思路应该差不多</p>
]]></content>
    
    <summary type="html">
    
      用 CSS3 和 JavaScript 制作径向动画菜单
    
    </summary>
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>独立于后端的前端开发</title>
    <link href="http://www.zhuyangxing.cn/2016/06/17/%E7%8B%AC%E7%AB%8B%E4%BA%8E%E5%90%8E%E7%AB%AF%E7%9A%84%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    <id>http://www.zhuyangxing.cn/2016/06/17/独立于后端的前端开发/</id>
    <published>2016-06-17T08:20:55.000Z</published>
    <updated>2017-01-14T05:31:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>在nodejs端使用<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"># 安装</div><div class="line">npm install mockjs</div><div class="line">// 使用 Mock</div><div class="line">var Mock = require('mockjs')</div><div class="line">var data = Mock.mock(&#123;</div><div class="line">    // 属性 list 的值是一个数组，其中含有 1 到 10 个元素</div><div class="line">    'list|1-10': [&#123;</div><div class="line">        // 属性 id 是一个自增数，起始值为 1，每次增 1</div><div class="line">        'id|+1': 1</div><div class="line">    &#125;]</div><div class="line">&#125;)</div><div class="line">// 输出结果,1-10个之间随机，这里是两个</div><div class="line">console.log(JSON.stringify(data, null, 2));</div><div class="line">// &#123;</div><div class="line">//   "list": [</div><div class="line">//     &#123;</div><div class="line">//       "id": 1</div><div class="line">//     &#125;,</div><div class="line">//     &#123;</div><div class="line">//       "id": 2</div><div class="line">//     &#125;</div><div class="line">//   ]</div><div class="line">// &#125;</div></pre></td></tr></table></figure></p>
<p>在浏览器中使用<a href="http://openks.oschina.io/demo/mock-data.html" target="_blank" rel="external">demo在这里</a><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- （必选）加载 Mock --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://mockjs.com/dist/mock.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="comment">// 使用 Mock</span></div><div class="line"><span class="keyword">var</span> data = Mock.mock(&#123;</div><div class="line">  <span class="string">'list|1-10'</span>: [&#123;</div><div class="line">    <span class="string">'id|+1'</span>: <span class="number">1</span></div><div class="line">  &#125;]</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(data, <span class="literal">null</span>, <span class="number">2</span>));</div><div class="line"><span class="comment">//跟上面结果一样</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>生成图片,生成颜色值，生成段落<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a =Random.image(<span class="string">'200x100'</span>)</div><div class="line"><span class="comment">// "http://dummyimage.com/200x100"</span></div><div class="line"><span class="comment">// Random.image()</span></div><div class="line">Random.image()</div><div class="line"><span class="comment">// Random.image( size )</span></div><div class="line">Random.image(<span class="string">'200x100'</span>)</div><div class="line"><span class="comment">// Random.image( size, background )</span></div><div class="line">Random.image(<span class="string">'200x100'</span>, <span class="string">'#FF6600'</span>)</div><div class="line"><span class="comment">// Random.image( size, background, text )</span></div><div class="line">Random.image(<span class="string">'200x100'</span>, <span class="string">'#4A7BF7'</span>, <span class="string">'Hello'</span>)</div><div class="line"><span class="comment">// Random.image( size, background, foreground, text )</span></div><div class="line">Random.image(<span class="string">'200x100'</span>, <span class="string">'#50B347'</span>, <span class="string">'#FFF'</span>, <span class="string">'Mock.js'</span>)</div><div class="line"><span class="comment">//http://dummyimage.com/200x100/50B347/FFF&amp;text=Mock.js</span></div><div class="line"><span class="comment">// Random.image( size, background, foreground, format, text )</span></div><div class="line">Random.image(<span class="string">'200x100'</span>, <span class="string">'#894FC4'</span>, <span class="string">'#FFF'</span>, <span class="string">'png'</span>, <span class="string">'!'</span>)</div><div class="line"></div><div class="line">Random.guid()</div><div class="line">Mock.mock(<span class="string">'@guid'</span>)</div><div class="line">Mock.mock(<span class="string">'@guid()'</span>)</div><div class="line"><span class="comment">// "3b5d25c4-b5Ac-eE3d-253D-3cC6fD707b56"</span></div><div class="line"><span class="comment">// "Ad933c55-fAea-7e86-f75b-edb8DEA1fc58"</span></div><div class="line"><span class="comment">// "e2Aeece6-e9f1-1ee8-Ba9D-e76cD5E4A5AD"</span></div></pre></td></tr></table></figure></p>
<p>浏览器端最常使用方法</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- （必选）加载 Mock --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://mockjs.com/dist/mock.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line">Mock.mock(<span class="string">'http://g.cn'</span>, &#123;</div><div class="line">    <span class="string">'name'</span>     : <span class="string">'@name'</span>,</div><div class="line">    <span class="string">'age|1-100'</span>: <span class="number">100</span>,</div><div class="line">    <span class="string">'color'</span>    : <span class="string">'@color'</span></div><div class="line">&#125;);</div><div class="line">$.ajax(&#123;</div><div class="line">    <span class="attr">url</span>: <span class="string">'http://g.cn'</span>,</div><div class="line">    <span class="attr">dataType</span>:<span class="string">'json'</span></div><div class="line">  &#125;).done(<span class="function"><span class="keyword">function</span>(<span class="params">data, status, xhr</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(data, <span class="literal">null</span>, <span class="number">4</span>)</div><div class="line">  )</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h1 id="数据模板"><a href="#数据模板" class="headerlink" title="数据模板"></a>数据模板</h1><p>数据模板中的每个属性由 3 部分构成：属性名、生成规则、属性值：</p>
<p> 属性名   name<br> 生成规则 rule<br> 属性值   value<br>‘name|rule’: value<br>属性名 和 生成规则 之间用竖线 | 分隔。<br>生成规则 是可选的。<br>生成规则 有 7 种格式：<br>‘name|min-max’: value<br>‘name|count’: value<br>‘name|min-max.dmin-dmax’: value<br>‘name|min-max.dcount’: value<br>‘name|count.dmin-dmax’: value<br>‘name|count.dcount’: value<br>‘name|+step’: value<br>生成规则 的 含义 需要依赖 属性值的类型 才能确定。<br>属性值 中可以含有 @占位符。<br>属性值 还指定了最终值的初始值和类型。</p>
<h1 id="属性值是字符串-String"><a href="#属性值是字符串-String" class="headerlink" title="属性值是字符串 String"></a>属性值是字符串 String</h1><p>‘name|min-max’: value<br>通过重复 string 生成一个字符串，重复次数大于等于 min，小于等于 max。<br>‘name|count’: value<br>通过重复 string 生成一个字符串，重复次数等于 count。</p>
<h1 id="属性值是数字-Number"><a href="#属性值是数字-Number" class="headerlink" title="属性值是数字 Number"></a>属性值是数字 Number</h1><p>‘name|+1’: number<br>属性值自动加 1，初始值为 number。<br>‘name|min-max.dmin-dmax’: number<br>生成一个浮点数，整数部分大于等于 min、小于等于 max，小数部分保留 dmin 到 dmax 位。<br>‘name|min-max.dmin-dmax’: number<br>生成一个浮点数，整数部分大于等于 min、小于等于 max，小数部分保留 dmin 到 dmax 位。</p>
<h1 id="属性值是布尔型-Boolean"><a href="#属性值是布尔型-Boolean" class="headerlink" title="属性值是布尔型 Boolean"></a>属性值是布尔型 Boolean</h1><p>‘name|1’: boolean<br>随机生成一个布尔值，值为 true 的概率是 1/2，值为 false 的概率同样是 1/2。<br>‘name|min-max’: value<br>随机生成一个布尔值，值为 value 的概率是 min / (min + max)，值为 !value 的概率是 max / (min + max)。</p>
<h1 id="属性值是对象-Object"><a href="#属性值是对象-Object" class="headerlink" title="属性值是对象 Object"></a>属性值是对象 Object</h1><p>‘name|count’: object<br>从属性值 object 中随机选取 count 个属性。</p>
<p>‘name|min-max’: object<br>从属性值 object 中随机选取 min 到 max 个属性。</p>
<h1 id="属性值是数组-Array"><a href="#属性值是数组-Array" class="headerlink" title="属性值是数组 Array"></a>属性值是数组 Array</h1><p>‘name|1’: array<br>从属性值 array 中随机选取 1 个元素，作为最终值。</p>
<p>‘name|+1’: array<br>从属性值 array 中顺序选取 1 个元素，作为最终值。</p>
<p>‘name|min-max’: array<br>通过重复属性值 array 生成一个新数组，重复次数大于等于 min，小于等于 max。</p>
<p>‘name|count’: array<br>通过重复属性值 array 生成一个新数组，重复次数为 count。</p>
<h1 id="属性值是函数-Function"><a href="#属性值是函数-Function" class="headerlink" title="属性值是函数 Function"></a>属性值是函数 Function</h1><p>‘name’: function<br>执行函数 function，取其返回值作为最终的属性值，函数的上下文为属性 ‘name’ 所在的对象。</p>
<h1 id="属性值是正则表达式-RegExp"><a href="#属性值是正则表达式-RegExp" class="headerlink" title="属性值是正则表达式 RegExp"></a>属性值是正则表达式 RegExp</h1><p>‘name’: regexp<br>根据正则表达式 regexp 反向生成可以匹配它的字符串。用于生成自定义格式的字符串。</p>
<h1 id="数据占位符定义规范-DPD"><a href="#数据占位符定义规范-DPD" class="headerlink" title="数据占位符定义规范 DPD"></a>数据占位符定义规范 DPD</h1><p>占位符 只是在属性值字符串中占个位置，并不出现在最终的属性值中。</p>
<p>占位符 的格式为：<br>@占位符<br>@占位符(参数 [, 参数])<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">Mock.mock(&#123;</div><div class="line">    <span class="attr">name</span>: &#123;</div><div class="line">        <span class="attr">first</span>: <span class="string">'@FIRST'</span>,</div><div class="line">        <span class="attr">middle</span>: <span class="string">'@FIRST'</span>,</div><div class="line">        <span class="attr">last</span>: <span class="string">'@LAST'</span>,</div><div class="line">        <span class="attr">full</span>: <span class="string">'@first @middle @last'</span></div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line"><span class="comment">// &#123;</span></div><div class="line"><span class="comment">//   "name": &#123;</span></div><div class="line"><span class="comment">//     "first": "Anthony",</span></div><div class="line"><span class="comment">//     "middle": "Brenda",</span></div><div class="line"><span class="comment">//     "last": "Young",</span></div><div class="line"><span class="comment">//     "full": "Anthony Brenda Young"</span></div><div class="line"><span class="comment">//   &#125;</span></div><div class="line"><span class="comment">// &#125;</span></div></pre></td></tr></table></figure></p>
<p>占位符比较多,全部如下：<br><img src="http://7xl9u9.com1.z0.glb.clouddn.com/mockjs_2016-06-17_17-10-35.png" alt=""><br>更多使用请参考<a href="http://mockjs.com/examples.html" target="_blank" rel="external">mockjs官方示例</a></p>
]]></content>
    
    <summary type="html">
    
      mockjs，生成随机数据，拦截 Ajax 请求
    
    </summary>
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>元素高度随兄弟元素高度变化而变化(一)</title>
    <link href="http://www.zhuyangxing.cn/2016/05/30/%E5%85%83%E7%B4%A0%E9%AB%98%E5%BA%A6%E9%9A%8F%E5%85%84%E5%BC%9F%E5%85%83%E7%B4%A0%E9%AB%98%E5%BA%A6%E5%8F%98%E5%8C%96%E8%80%8C%E5%8F%98%E5%8C%96(%E4%B8%80)/"/>
    <id>http://www.zhuyangxing.cn/2016/05/30/元素高度随兄弟元素高度变化而变化(一)/</id>
    <published>2016-05-30T08:30:29.000Z</published>
    <updated>2017-01-14T05:31:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>简单来讲就是元素A的高度随元素B的高度变化而变化(假设AB的外层元素为C)</p>
<p><img src="http://7xl9u9.com1.z0.glb.clouddn.com/2016-5-30-15-24-43.png" alt=""></p>
<p>你想到了几种方法？<br>我想到了两种</p>
<ol>
<li><p>A的高度设置一个B最大高度都达不到的值(此方法不推荐)<br>把C设置成<code>overflow:hidden;</code>A,B左浮动,B的高度为<code>auto</code>,A无限高</p>
</li>
<li><p>C相对定位，A左浮动绝对定位高度100%，B右浮动,高度 <code>auto</code>,则A高度随B发生变化</p>
</li>
</ol>
<p></p><p data-height="564" data-theme-id="light" data-slug-hash="aZbayy" data-default-tab="result" data-user="openks" data-embed-version="2" class="codepen">See the Pen <a href="https://codepen.io/openks/pen/aZbayy/" target="_blank" rel="external">aZbayy</a> by openks (<a href="http://codepen.io/openks" target="_blank" rel="external">@openks</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p>
<script async src="//assets.codepen.io/assets/embed/ei.js"></script>
]]></content>
    
    <summary type="html">
    
      元素高度随兄弟元素高度变化而变化
    
    </summary>
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="css" scheme="http://www.zhuyangxing.cn/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>sass学习</title>
    <link href="http://www.zhuyangxing.cn/2016/05/26/sass/"/>
    <id>http://www.zhuyangxing.cn/2016/05/26/sass/</id>
    <published>2016-05-26T03:36:22.000Z</published>
    <updated>2017-01-14T05:31:39.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="sass的文件后缀"><a href="#sass的文件后缀" class="headerlink" title="sass的文件后缀"></a>sass的文件后缀</h2><p>sass文件后缀有两种即sass和scss<br>sass:不使用大括号和分号<br>scss:使用大括号和分号<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//sass语法</div><div class="line">body</div><div class="line">  background: #eee</div><div class="line">  font-size:12px</div><div class="line">  p</div><div class="line">    background: #0982c1</div></pre></td></tr></table></figure></p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//scss语法</span></div><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">  <span class="attribute">background</span>: <span class="number">#eee</span>;</div><div class="line">  <span class="attribute">font-size</span>:<span class="number">12px</span>;</div><div class="line">  <span class="selector-tag">p</span>&#123;</div><div class="line">    <span class="attribute">background</span>: <span class="number">#0982c1</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="文件导入"><a href="#文件导入" class="headerlink" title="文件导入"></a>文件导入</h2><p>1.导入sass文件可以省略文件后缀<br>2.导入sass文件会在编译是合并为一个文件<br>3.<code>_base.scss</code>导入时可以不写下划线即可以<code>@import base</code><br>4.导入css文件以@import方式存在,跟普通CSS导入样式文件一样</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//a.scss</span></div><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">  <span class="attribute">background</span>: <span class="number">#eee</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//b.scss</span></div><div class="line">@<span class="keyword">import</span> <span class="string">"reset.css"</span>;</div><div class="line">@<span class="keyword">import</span> <span class="string">"a"</span>;</div><div class="line"><span class="selector-tag">p</span>&#123;</div><div class="line">  <span class="attribute">background</span>: <span class="number">#0982c1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*编译后*/</span></div><div class="line">@<span class="keyword">import</span> <span class="string">"reset.css"</span>;</div><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">  <span class="attribute">background</span>: <span class="number">#eee</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">p</span>&#123;</div><div class="line">  <span class="attribute">background</span>: <span class="number">#0982c1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><p><code>/**/</code>和<code>//</code><br>单行注释不会输入到编译产生的CSS中<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * 设置统一样式</div><div class="line"> */</div><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">  <span class="attribute">color</span>: red;<span class="comment">//color red</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * 设置统一样式</div><div class="line"> */</div><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">  <span class="attribute">color</span>: red;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="普通变量"><a href="#普通变量" class="headerlink" title="普通变量"></a>普通变量</h3><p>普通变量定义之后可以在全局范围内使用。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//sass style</span></div><div class="line"><span class="variable">$fontSize</span>: <span class="number">12px</span>;</div><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">    <span class="attribute">font-size</span>:<span class="variable">$fontSize</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">    <span class="attribute">font-size</span>:<span class="number">12px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="默认变量"><a href="#默认变量" class="headerlink" title="默认变量"></a>默认变量</h3><p>sass的默认变量仅需要在值后面加上!default即可。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//sass style</span></div><div class="line"><span class="variable">$baseLineHeight</span>:        <span class="number">2</span>; <span class="comment">//写在前面覆盖默认值</span></div><div class="line"><span class="variable">$baseLineHeight</span>:        <span class="number">1.5</span> !default;</div><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">    <span class="attribute">line-height</span>: <span class="variable">$baseLineHeight</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">    <span class="attribute">line-height</span>:<span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="特殊变量"><a href="#特殊变量" class="headerlink" title="特殊变量"></a>特殊变量</h3><p>如果变量作为属性或在某些特殊情况下等则必须要以#{$variables}形式使用。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//sass style</span></div><div class="line"><span class="variable">$borderDirection</span>:       top !default;</div><div class="line"><span class="variable">$baseFontSize</span>:          <span class="number">12px</span> !default;</div><div class="line"><span class="variable">$baseLineHeight</span>:        <span class="number">1.5</span> !default;</div><div class="line"></div><div class="line"><span class="comment">//应用于class和属性</span></div><div class="line"><span class="selector-class">.border-</span>#&#123;<span class="variable">$borderDirection</span>&#125;&#123;</div><div class="line">  <span class="attribute">border</span>-#&#123;<span class="variable">$borderDirection</span>&#125;:<span class="number">1px</span> solid <span class="number">#ccc</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">//应用于复杂的属性值</span></div><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">    <span class="attribute">font</span>:#&#123;<span class="variable">$baseFontSize</span>&#125;/#&#123;<span class="variable">$baseLineHeight</span>&#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-class">.border-top</span>&#123;</div><div class="line">  <span class="attribute">border-top</span>:<span class="number">1px</span> solid <span class="number">#ccc</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">  <span class="attribute">font</span>: <span class="number">12px</span>/<span class="number">1.5</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="多值变量"><a href="#多值变量" class="headerlink" title="多值变量"></a>多值变量</h3><p>多值变量分为list类型和map类型,list类型有点像js中的数组，而map类型有点像js中的对象<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//sass style</span></div><div class="line"><span class="comment">//一维数据</span></div><div class="line"><span class="comment">//$px: 5px 10px 20px 30px;</span></div><div class="line"><span class="comment">//二维数据，相当于js中的二维数组</span></div><div class="line"><span class="comment">//$px: 5px 10px, 20px 30px;</span></div><div class="line"><span class="comment">//用nth($var,$index)取值</span></div><div class="line"><span class="variable">$linkColor</span>:  <span class="number">#08c</span> <span class="number">#333</span> !default;<span class="comment">//第一个值为默认值，第二个鼠标滑过值</span></div><div class="line"><span class="selector-tag">a</span>&#123;</div><div class="line">  <span class="attribute">color</span>:nth(<span class="variable">$linkColor</span>,<span class="number">1</span>);</div><div class="line">  &amp;:hover&#123;</div><div class="line">    <span class="attribute">color</span>:nth(<span class="variable">$linkColor</span>,<span class="number">2</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-tag">a</span>&#123;</div><div class="line">  <span class="attribute">color</span>:<span class="number">#08c</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">a</span>:hover&#123;</div><div class="line">  <span class="attribute">color</span>:<span class="number">#333</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//sass style</span></div><div class="line"><span class="comment">//$map: (key1: value1, key2: value2, key3: value3);</span></div><div class="line"><span class="variable">$headings</span>: (h1: <span class="number">2em</span>, h2: <span class="number">1.5em</span>, h3: <span class="number">1.2em</span>);</div><div class="line">@<span class="keyword">each</span> <span class="variable">$header</span>, <span class="variable">$size</span> in <span class="variable">$headings</span> &#123;</div><div class="line">  #&#123;<span class="variable">$header</span>&#125; &#123;</div><div class="line">    <span class="attribute">font-size</span>: <span class="variable">$size</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-tag">h1</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">2em</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">h2</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">1.5em</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">h3</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">1.2em</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="嵌套"><a href="#嵌套" class="headerlink" title="嵌套"></a>嵌套</h2><p>选择器的嵌套和属性的嵌套</p>
<h3 id="选择器嵌套"><a href="#选择器嵌套" class="headerlink" title="选择器嵌套"></a>选择器嵌套</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//sass style</span></div><div class="line"><span class="comment">//-------------------------------</span></div><div class="line"><span class="selector-id">#top_nav</span>&#123;</div><div class="line">  <span class="attribute">background-color</span>:<span class="number">#333</span>;</div><div class="line">  <span class="selector-tag">li</span>&#123;</div><div class="line">    <span class="attribute">float</span>:left;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-tag">a</span>&#123;</div><div class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</div><div class="line">    &amp;:hover&#123;</div><div class="line">      <span class="attribute">color</span>:<span class="number">#ddd</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-id">#top_nav</span>&#123;</div><div class="line">  <span class="attribute">background-color</span>:<span class="number">#333</span>;</div><div class="line">&#125;  </div><div class="line"><span class="selector-id">#top_nav</span> <span class="selector-tag">li</span>&#123;</div><div class="line">  <span class="attribute">float</span>:left;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#top_nav</span> <span class="selector-tag">a</span>&#123;</div><div class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#top_nav</span> <span class="selector-tag">a</span>:hover&#123;</div><div class="line">  <span class="attribute">color</span>:<span class="number">#ddd</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="属性嵌套"><a href="#属性嵌套" class="headerlink" title="属性嵌套"></a>属性嵌套</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//sass style</span></div><div class="line"><span class="selector-class">.fakeshadow</span> &#123;</div><div class="line">  <span class="attribute">border</span>: &#123;</div><div class="line">    style: solid;</div><div class="line">    <span class="attribute">left</span>: &#123;</div><div class="line">      color: <span class="number">#888</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="attribute">right</span>: &#123;</div><div class="line">      color: <span class="number">#ccc</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-class">.fakeshadow</span> &#123;</div><div class="line">  <span class="attribute">border-style</span>: solid;</div><div class="line">  <span class="attribute">border-left-color</span>: <span class="number">#888</span>;</div><div class="line">  <span class="attribute">border-right-color</span>: <span class="number">#ccc</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="混合-mixin"><a href="#混合-mixin" class="headerlink" title="混合(mixin)"></a>混合(mixin)</h2><p>无参数<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//sass style</span></div><div class="line">@<span class="keyword">mixin</span> center-block &#123;</div><div class="line">    <span class="attribute">margin</span>:<span class="number">0</span> auto;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.demo</span>&#123;</div><div class="line">    @<span class="keyword">include</span> center-block;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-class">.demo</span>&#123;</div><div class="line">    <span class="attribute">margin</span>:<span class="number">0</span> auto;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>有参数mixin<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//sass style</span></div><div class="line"></div><div class="line">@<span class="keyword">mixin</span> opacity(<span class="variable">$opacity</span>:<span class="number">50</span>) &#123;</div><div class="line">  <span class="attribute">opacity</span>: <span class="variable">$opacity</span> / <span class="number">100</span>;</div><div class="line">  <span class="attribute">filter</span>: alpha(opacity=<span class="variable">$opacity</span>);</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.opacity</span>&#123;</div><div class="line">  @<span class="keyword">include</span> opacity; <span class="comment">//参数使用默认值</span></div><div class="line">&#125;</div><div class="line"><span class="selector-class">.opacity-80</span>&#123;</div><div class="line">  @<span class="keyword">include</span> opacity(<span class="number">80</span>); <span class="comment">//传递参数</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-class">.opacity</span> &#123;</div><div class="line">  <span class="attribute">opacity</span>: <span class="number">0.5</span>;</div><div class="line">  <span class="attribute">filter</span>: alpha(opacity=<span class="number">50</span>);</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.opacity-80</span> &#123;</div><div class="line">  <span class="attribute">opacity</span>: <span class="number">0.8</span>;</div><div class="line">  <span class="attribute">filter</span>: alpha(opacity=<span class="number">80</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>多个参数mixin</p>
<p>调用时可直接传入值，如@include传入参数的个数小于@mixin定义参数的个数，则按照顺序表示，后面不足的使用默认值，如不足的没有默认值则报错。除此之外还可以选择性的传入参数，使用参数名与值同时传入。</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//sass style</span></div><div class="line">@<span class="keyword">mixin</span> horizontal-line(<span class="variable">$border</span>:<span class="number">1px</span> dashed <span class="number">#ccc</span>, <span class="variable">$padding</span>:<span class="number">10px</span>)&#123;</div><div class="line">    <span class="attribute">border-bottom</span>:<span class="variable">$border</span>;</div><div class="line">    <span class="attribute">padding-top</span>:<span class="variable">$padding</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.imgtext-h</span> <span class="selector-tag">li</span>&#123;</div><div class="line">    @<span class="keyword">include</span> horizontal-line(<span class="number">1px</span> solid <span class="number">#ccc</span>);</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.imgtext-h--product</span> <span class="selector-tag">li</span>&#123;</div><div class="line">    @<span class="keyword">include</span> horizontal-line(<span class="variable">$padding</span>:<span class="number">15px</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-class">.imgtext-h</span> <span class="selector-tag">li</span> &#123;</div><div class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#cccccc</span>;</div><div class="line">    <span class="attribute">padding-top</span>: <span class="number">10px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.imgtext-h--product</span> <span class="selector-tag">li</span> &#123;</div><div class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> dashed <span class="number">#cccccc</span>;</div><div class="line">    <span class="attribute">padding-top</span>: <span class="number">15px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>多组值参数mixin<br>在变量后加三个点表示，如$variables…。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//sass style</span></div><div class="line"><span class="comment">//box-shadow可以有多组值，所以在变量参数后面添加...</span></div><div class="line">@<span class="keyword">mixin</span> box-shadow(<span class="variable">$shadow</span>...) &#123;</div><div class="line">  -webkit-<span class="attribute">box-shadow</span>:<span class="variable">$shadow</span>;</div><div class="line">  <span class="attribute">box-shadow</span>:<span class="variable">$shadow</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">  <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#ccc</span>;</div><div class="line">  @<span class="keyword">include</span> box-shadow(<span class="number">0</span> 2px 2px rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>),<span class="number">0</span> 3px 3px rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>),<span class="number">0</span> 4px 4px rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">  <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#ccc</span>;</div><div class="line">  -webkit-<span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>),<span class="number">0</span> <span class="number">3px</span> <span class="number">3px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>),<span class="number">0</span> <span class="number">4px</span> <span class="number">4px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>);</div><div class="line">  <span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>),<span class="number">0</span> <span class="number">3px</span> <span class="number">3px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>),<span class="number">0</span> <span class="number">4px</span> <span class="number">4px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><h3 id="继承-extend"><a href="#继承-extend" class="headerlink" title="继承@extend"></a>继承@extend</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//不管是否使用了@extend去继承相应的样式，都会解析出来所有的样式</span></div><div class="line"><span class="comment">//@mixin通过@include调用后解析出来的样式是以拷贝形式存在的，而@extend则是以联合声明的方式存在的，</span></div><div class="line"><span class="comment">//所以从3.2.0版本以后，建议传递参数的用@mixin，而非传递参数类的使用占位选择器%。</span></div><div class="line"></div><div class="line"><span class="comment">//sass style</span></div><div class="line"><span class="selector-tag">h1</span>&#123;</div><div class="line">  <span class="attribute">border</span>: <span class="number">4px</span> solid <span class="number">#ff9aa9</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.speaker</span>&#123;</div><div class="line">  @<span class="keyword">extend</span> h1;</div><div class="line">  <span class="attribute">border-width</span>: <span class="number">2px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-tag">h1</span>,<span class="selector-class">.speaker</span>&#123;</div><div class="line">  <span class="attribute">border</span>: <span class="number">4px</span> solid <span class="number">#ff9aa9</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.speaker</span>&#123;</div><div class="line">  <span class="attribute">border-width</span>: <span class="number">2px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="占位选择器"><a href="#占位选择器" class="headerlink" title="占位选择器%"></a>占位选择器%</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//占位选择器%如果不调用则不会有任何多余的css文件</span></div><div class="line"><span class="comment">//sass style</span></div><div class="line">%ir&#123;</div><div class="line">  <span class="attribute">color</span>: transparent;</div><div class="line">  <span class="attribute">text-shadow</span>: none;</div><div class="line">  <span class="attribute">background-color</span>: transparent;</div><div class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line">%border5&#123;</div><div class="line">  <span class="attribute">border</span>: <span class="number">5px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#header</span>&#123;</div><div class="line">  <span class="selector-tag">h1</span>&#123;</div><div class="line">    @<span class="keyword">extend</span> %ir;</div><div class="line">    <span class="attribute">width</span>:<span class="number">300px</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.ir</span>&#123;</div><div class="line">  @<span class="keyword">extend</span> %ir;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-id">#header</span> <span class="selector-tag">h1</span>,<span class="selector-class">.ir</span>&#123;</div><div class="line">  <span class="attribute">color</span>: transparent;</div><div class="line">  <span class="attribute">text-shadow</span>: none;</div><div class="line">  <span class="attribute">background-color</span>: transparent;</div><div class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#header</span> <span class="selector-tag">h1</span>&#123;</div><div class="line">  <span class="attribute">width</span>:<span class="number">300px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//sass style</span></div><div class="line"><span class="variable">$baseFontSize</span>:      <span class="number">10px</span> !default;</div><div class="line"></div><div class="line"><span class="comment">// pixels to rems</span></div><div class="line">@function pxToRem(<span class="variable">$px</span>) &#123;</div><div class="line">  @return <span class="variable">$px</span> / <span class="variable">$baseFontSize</span> * 1rem;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">  <span class="attribute">font-size</span>:<span class="variable">$baseFontSize</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.test</span>&#123;</div><div class="line">  <span class="attribute">font-size</span>:pxToRem(<span class="number">16px</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">  <span class="attribute">font-size</span>:<span class="number">10px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.test</span>&#123;</div><div class="line">  <span class="attribute">font-size</span>:<span class="number">1.6rem</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h2><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//可以对数值型的Value(如：数字、颜色、变量等)进行加减乘除四则运算。运算符前后需留一个空格</span></div><div class="line"><span class="variable">$baseFontSize</span>:          <span class="number">14px</span> !default;</div><div class="line"><span class="variable">$baseLineHeight</span>:        <span class="number">1.5</span> !default;</div><div class="line"><span class="variable">$baseGap</span>:               <span class="variable">$baseFontSize</span> * <span class="variable">$baseLineHeight</span> !default;</div><div class="line"><span class="variable">$halfBaseGap</span>:           <span class="variable">$baseGap</span> / <span class="number">2</span>  !default;</div><div class="line"><span class="variable">$samllFontSize</span>:         <span class="variable">$baseFontSize</span> - <span class="number">2px</span>  !default;</div></pre></td></tr></table></figure>
<h2 id="条件判断及循环"><a href="#条件判断及循环" class="headerlink" title="条件判断及循环"></a>条件判断及循环</h2><h3 id="if判断-if判断"><a href="#if判断-if判断" class="headerlink" title="if判断@if判断"></a>if判断@if判断</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//sass style</span></div><div class="line"><span class="variable">$lte7</span>: true;</div><div class="line"><span class="variable">$type</span>: monster;</div><div class="line"><span class="selector-class">.ib</span>&#123;</div><div class="line">    <span class="attribute">display</span>:inline-block;</div><div class="line">    @<span class="keyword">if</span> <span class="variable">$lte7</span> &#123;</div><div class="line">        *<span class="attribute">display</span>:inline;</div><div class="line">        *zoom:<span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">p</span> &#123;</div><div class="line">  @<span class="keyword">if</span> <span class="variable">$type</span> == ocean &#123;</div><div class="line">    <span class="attribute">color</span>: blue;</div><div class="line">  &#125; @<span class="keyword">else</span> if <span class="variable">$type</span> == monster &#123;</div><div class="line">    <span class="attribute">color</span>: green;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-class">.ib</span>&#123;</div><div class="line">    <span class="attribute">display</span>:inline-block;</div><div class="line">    *<span class="attribute">display</span>:inline;</div><div class="line">    *zoom:<span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">p</span> &#123;</div><div class="line">  <span class="attribute">color</span>: green;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="三目判断"><a href="#三目判断" class="headerlink" title="三目判断"></a>三目判断</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">//if($condition, $if_true, $if_false)</div><div class="line">if(true, 1px, 2px) =&gt; 1px</div><div class="line">if(false, 1px, 2px) =&gt; 2px</div></pre></td></tr></table></figure>
<h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// @for $i from &lt;start&gt; through &lt;end&gt; $i表示变量  through包括end这个数</span></div><div class="line"><span class="comment">// @for $i from &lt;start&gt; to &lt;end&gt; $i表示变量  to不包括end这个数</span></div><div class="line"></div><div class="line"><span class="comment">//sass style</span></div><div class="line">@<span class="keyword">for</span> <span class="variable">$i</span> from 1 through 3 &#123;</div><div class="line">  <span class="selector-class">.item-</span>#&#123;<span class="variable">$i</span>&#125; &#123; <span class="attribute">width</span>: <span class="number">2em</span> * <span class="variable">$i</span>; &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-class">.item-1</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">2em</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.item-2</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">4em</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.item-3</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">6em</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="循环-each循环"><a href="#循环-each循环" class="headerlink" title="循环,@each循环"></a>循环,@each循环</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//@each $var in &lt;list or map&gt;。其中$var表示变量，而list和map表示list类型数据和map类型数据</span></div><div class="line"><span class="comment">//单字段list循环</span></div><div class="line"><span class="comment">//sass style</span></div><div class="line"><span class="variable">$animal-list</span>: puma, sea-slug, egret, salamander;</div><div class="line">@<span class="keyword">each</span> <span class="variable">$animal</span> in <span class="variable">$animal-list</span> &#123;</div><div class="line">  .#&#123;<span class="variable">$animal</span>&#125;-<span class="attribute">icon</span> &#123;</div><div class="line">    <span class="attribute">background-image</span>: url(<span class="string">'/images/#&#123;$animal&#125;.png'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-class">.puma-icon</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: url(<span class="string">'/images/puma.png'</span>);</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.sea-slug-icon</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: url(<span class="string">'/images/sea-slug.png'</span>);</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.egret-icon</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: url(<span class="string">'/images/egret.png'</span>);</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.salamander-icon</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: url(<span class="string">'/images/salamander.png'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//多字段list循环</span></div><div class="line"><span class="comment">//sass style</span></div><div class="line"><span class="variable">$animal-data</span>: (puma, black, default),(sea-slug, blue, pointer),(egret, white, move);</div><div class="line">@<span class="keyword">each</span> <span class="variable">$animal</span>, <span class="variable">$color</span>, <span class="variable">$cursor</span> in <span class="variable">$animal-data</span> &#123;</div><div class="line">  .#&#123;<span class="variable">$animal</span>&#125;-<span class="attribute">icon</span> &#123;</div><div class="line">    <span class="attribute">background-image</span>: url(<span class="string">'/images/#&#123;$animal&#125;.png'</span>);</div><div class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="variable">$color</span>;</div><div class="line">    <span class="attribute">cursor</span>: <span class="variable">$cursor</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-class">.puma-icon</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: url(<span class="string">'/images/puma.png'</span>);</div><div class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid black;</div><div class="line">  <span class="attribute">cursor</span>: default;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.sea-slug-icon</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: url(<span class="string">'/images/sea-slug.png'</span>);</div><div class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid blue;</div><div class="line">  <span class="attribute">cursor</span>: pointer;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.egret-icon</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: url(<span class="string">'/images/egret.png'</span>);</div><div class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid white;</div><div class="line">  <span class="attribute">cursor</span>: move;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//多个字段map数据循环</span></div><div class="line"><span class="comment">//sass style</span></div><div class="line"><span class="variable">$headings</span>: (h1: <span class="number">2em</span>, h2: <span class="number">1.5em</span>, h3: <span class="number">1.2em</span>);</div><div class="line">@<span class="keyword">each</span> <span class="variable">$header</span>, <span class="variable">$size</span> in <span class="variable">$headings</span> &#123;</div><div class="line">  #&#123;<span class="variable">$header</span>&#125; &#123;</div><div class="line">    <span class="attribute">font-size</span>: <span class="variable">$size</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//css style</span></div><div class="line"><span class="selector-tag">h1</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">2em</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">h2</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">1.5em</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">h3</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">1.2em</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p><a href="http://www.w3cplus.com/sassguide/syntax.html" target="_blank" rel="external">参考链接</a></p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      sass 基础知识学习及整理
    
    </summary>
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>gulp预处理插件编写</title>
    <link href="http://www.zhuyangxing.cn/2016/04/05/gulp%E6%8F%92%E4%BB%B6%E7%BC%96%E5%86%99/"/>
    <id>http://www.zhuyangxing.cn/2016/04/05/gulp插件编写/</id>
    <published>2016-04-05T09:22:10.000Z</published>
    <updated>2017-01-14T05:31:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>常写好多页面通用代码如下<br>index.html<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></div><div class="line">&nbsp;&nbsp;<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"topbar"</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"logo"</span> <span class="attr">href</span>=<span class="string">"###"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login_status"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"p_center"</span> <span class="attr">href</span>=<span class="string">"###"</span>&gt;</span>个人中心<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"###"</span>&gt;</span>登陆<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"###"</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">li</span> <span class="attr">tag</span>=<span class="string">"0"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"index.html"</span>&gt;</span>首 页<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>HOME<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">li</span> <span class="attr">tag</span>=<span class="string">"140"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"index.html"</span>&gt;</span>新闻公告<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>NEWS<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"cur"</span> <span class="attr">tag</span>=<span class="string">"280"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"###"</span>&gt;</span>数据中心<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>DATA<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"text-indent:160px"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"data-trailer.html"</span>&gt;</span>赛事预告<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"data-schedule.html"</span>&gt;</span>赛程赛果<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"data-points.html"</span>&gt;</span>赛事数据<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">li</span> <span class="attr">tag</span>=<span class="string">"420"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"index.html"</span>&gt;</span>视频图集<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>VIDEO<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">li</span> <span class="attr">tag</span>=<span class="string">"560"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"index.html"</span>&gt;</span>参赛球队<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>TEAM<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">li</span> <span class="attr">tag</span>=<span class="string">"700"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"index.html"</span>&gt;</span>商务合作<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>COOPERATION<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mark"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">&nbsp;&nbsp;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>多个页面公用nav我希望index.html可以这样写，如果导航增加二级菜单删除二级菜单等不用所有页面都做处理<br>index.html<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></div><div class="line">&nbsp;&nbsp;<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"topbar"</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"logo"</span> <span class="attr">href</span>=<span class="string">"###"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login_status"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"p_center"</span> <span class="attr">href</span>=<span class="string">"###"</span>&gt;</span>个人中心<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"###"</span>&gt;</span>登陆<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"###"</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"import"</span> <span class="attr">href</span>=<span class="string">"static/widget/nav.html"</span>&gt;</span></div><div class="line">&nbsp;&nbsp;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>至于cur可以在每个页面通过js进行添加</p>
<p>widget/nav.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></div><div class="line">&nbsp;&nbsp;<span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">li</span> <span class="attr">tag</span>=<span class="string">"0"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"index.html"</span>&gt;</span>首 页<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>HOME<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">li</span> <span class="attr">tag</span>=<span class="string">"140"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"index.html"</span>&gt;</span>新闻公告<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>NEWS<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">li</span> <span class="attr">tag</span>=<span class="string">"280"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"###"</span>&gt;</span>数据中心<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>DATA<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"text-indent:160px"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"data-trailer.html"</span>&gt;</span>赛事预告<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"data-schedule.html"</span>&gt;</span>赛程赛果<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"data-points.html"</span>&gt;</span>赛事数据<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">li</span> <span class="attr">tag</span>=<span class="string">"420"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"index.html"</span>&gt;</span>视频图集<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>VIDEO<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">li</span> <span class="attr">tag</span>=<span class="string">"560"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"index.html"</span>&gt;</span>参赛球队<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>TEAM<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">li</span> <span class="attr">tag</span>=<span class="string">"700"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"index.html"</span>&gt;</span>商务合作<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>COOPERATION<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">&nbsp;&nbsp;<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">&nbsp;&nbsp;<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mark"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">&nbsp;&nbsp;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>插件功能就是把<code>&lt;link rel=&quot;import&quot; href=&quot;static/widget/nav.html&quot;&gt;</code>移除并替换为<code>nav.html</code>中的内容<br>插件内容如下index.js<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> PluginError = <span class="built_in">require</span>(<span class="string">'gulp-util'</span>).PluginError,</div><div class="line">&nbsp;&nbsp;Transform = <span class="built_in">require</span>(<span class="string">'stream'</span>).Transform,</div><div class="line">&nbsp;&nbsp;fs = <span class="built_in">require</span>(<span class="string">'fs'</span>),</div><div class="line">&nbsp;&nbsp;PLUGIN_NAME = <span class="string">'gulp-pre-link'</span>;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">opts</span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;opts = opts || &#123;&#125;;</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> stream = <span class="keyword">new</span> Transform(&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">objectMode</span>: <span class="literal">true</span></div><div class="line">&nbsp;&nbsp;&#125;);</div><div class="line"></div><div class="line">&nbsp;&nbsp;stream._transform = <span class="function"><span class="keyword">function</span>(<span class="params">file, encoding, cb</span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span> (file.isNull()) &#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> cb(<span class="literal">null</span>, file);</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&#125;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span> (file.isStream()) &#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span> error = <span class="string">'Streaming not supported'</span>;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> cb(<span class="keyword">new</span> PluginError(PLUGIN_NAME, error));</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&#125; <span class="keyword">else</span> <span class="keyword">if</span> (file.isBuffer()) &#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span> content = <span class="built_in">String</span>(file.contents);</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span> reg = <span class="regexp">/&lt;link\s+[\s\S]*?["'\s\w\/\-](?:&gt;|$)/gi</span>; </div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span> arrs = content.match(reg); <span class="comment">//获取link标签</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span> reg2 = <span class="regexp">/\srel\s*=\s*('[^']+'|"[^"]+"|[^\s\/&gt;]+)\s*href\s*=\s*('[^']+'|"[^"]+"|[^\s\/&gt;]+)/i</span>;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span> (arrs != <span class="literal">null</span>) &#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arrs.length; i++) &#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span> result = arrs[i].match(reg2);</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span> (result &amp;&amp; result[<span class="number">1</span>]) &#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span> rel = result[<span class="number">1</span>].replace(<span class="regexp">/^['"]|['"]$/g</span>, <span class="string">''</span>).toLowerCase();</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span> (rel === <span class="string">'import'</span>) &#123;     <span class="comment">//如果link的rel为import获取href内容</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span> addr = result[<span class="number">2</span>].replace(<span class="regexp">/^['"]|['"]$/g</span>, <span class="string">''</span>).toLowerCase();</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span> _this = <span class="keyword">this</span>;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fs.readFile(addr, <span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;content = content.replace(result.input, <span class="built_in">String</span>(data));<span class="comment">//读取href文件内容并替换link标签</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.contents = <span class="keyword">new</span> Buffer(content);</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_this.push(file);</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;);</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125; <span class="keyword">else</span> &#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.contents = <span class="keyword">new</span> Buffer(content);</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span>.push(file);</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125; <span class="keyword">else</span> &#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.contents = <span class="keyword">new</span> Buffer(content);</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span>.push(file);</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cb();</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&#125;</div><div class="line">&nbsp;&nbsp;&#125;;</div><div class="line">&nbsp;&nbsp;<span class="keyword">return</span> stream;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>使用方法<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//安装插件</span></div><div class="line">npm install --save-dev gulp-pre-link</div><div class="line"></div><div class="line">gulp.task(<span class="string">'html'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> htmlmin = <span class="built_in">require</span>(<span class="string">'gulp-htmlmin'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> posthtml = <span class="built_in">require</span>(<span class="string">'gulp-pre-link'</span>);</div><div class="line"></div><div class="line">&nbsp;&nbsp;<span class="keyword">return</span> gulp.src(htmlSrc)</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(posthtml())<span class="comment">//先处理link引入标签再压缩html</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(htmlmin(&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">collapseWhitespace</span>: <span class="literal">true</span>,</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">removeComments</span>: <span class="literal">true</span>,</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">minifyJS</span>: <span class="literal">true</span>,</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">minifyCSS</span>: <span class="literal">true</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&#125;))</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(gulp.dest(htmlDec));</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>并把插件发布到npm上</p>
]]></content>
    
    <summary type="html">
    
      gulp预处理插件编写
    
    </summary>
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>使用jslint发现的问题汇总</title>
    <link href="http://www.zhuyangxing.cn/2016/04/01/%E4%BD%BF%E7%94%A8jslint%E5%8F%91%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/"/>
    <id>http://www.zhuyangxing.cn/2016/04/01/使用jslint发现的问题汇总/</id>
    <published>2016-04-01T08:46:46.000Z</published>
    <updated>2017-01-14T05:31:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>主要包括以下几个方面问题<br>1.eval<br>2.===与==<br>3.Missing semicolon<br>4.Bad line breaking<br>5.Unnecessary semicolon<br>6.Script URL<br>7.Expected an assignment or function call and instead saw an expression.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">static</span>\js\data-schedule.js: line <span class="number">31</span>, col <span class="number">28</span>, <span class="built_in">eval</span> can be harmful.</div><div class="line"></div><div class="line">if (data <span class="keyword">instanceof</span> <span class="built_in">Object</span>) &#123;</div><div class="line">&nbsp;&nbsp;jsondata = data;</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">&nbsp;&nbsp;jsondata = <span class="built_in">eval</span>(<span class="string">'('</span> + data + <span class="string">')'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//eval函数已经不建议使用了 这里完全可以用JSON.parse()来取代</span></div><div class="line"><span class="keyword">static</span>\js\data-schedule.js: line <span class="number">35</span>, col <span class="number">26</span>, Use <span class="string">'==='</span> to compare <span class="keyword">with</span> <span class="string">'null'</span></div><div class="line"><span class="keyword">static</span>\js\data-schedule.js: line <span class="number">127</span>, col <span class="number">26</span>, Use <span class="string">'!=='</span> to compare <span class="keyword">with</span> <span class="string">'undefined'</span>.</div><div class="line">static\js\forget.js: line <span class="number">7</span>, col <span class="number">23</span>, Use <span class="string">'==='</span> to compare <span class="keyword">with</span> <span class="string">'false'</span>.</div><div class="line"></div><div class="line">if(check_flag == <span class="literal">false</span>)</div><div class="line"></div><div class="line"><span class="keyword">static</span>\js\forget.js: line <span class="number">145</span>, col <span class="number">23</span>, Use <span class="string">'==='</span> to compare <span class="keyword">with</span> <span class="string">'0'</span>.</div><div class="line"></div><div class="line">if (waitemail == <span class="number">0</span>)</div><div class="line"></div><div class="line"><span class="comment">//类型确定的比较最好使用=== 我还是常用== 习惯应该改正了</span></div><div class="line"></div><div class="line"><span class="keyword">static</span>\js\data-schedule.js: line <span class="number">129</span>, col <span class="number">56</span>, Script URL.</div><div class="line"></div><div class="line">$(<span class="string">'.lt'</span>).attr(<span class="string">'href'</span>, <span class="string">'javascript:queryMatchs('</span>+up+<span class="string">',1)'</span>);</div><div class="line"></div><div class="line"><span class="comment">//href里写javascript: 这种写法我从来没想到过，我想的是给a标签添加click事件</span></div><div class="line"></div><div class="line">iframe.src == <span class="string">"javascript:'%3Chtml%3E%3C/html%3E';"</span></div><div class="line"><span class="comment">//src里写javascript:</span></div><div class="line"></div><div class="line"><span class="keyword">static</span>\js\data-schedule.js: line <span class="number">164</span>, col <span class="number">6</span>, Missing semicolon.</div><div class="line"><span class="comment">//缺少分号 这个我一般都不会少的</span></div><div class="line"><span class="keyword">static</span>\js\data-schedule.js: line <span class="number">168</span>, col <span class="number">13</span>, Bad line breaking before <span class="string">'-'</span>.</div><div class="line"></div><div class="line">str.substr(<span class="number">4</span></div><div class="line">- <span class="built_in">RegExp</span>.$<span class="number">1.</span>length));</div><div class="line"></div><div class="line"><span class="comment">//话说这种断行我是第一次见 两行变一行就行了</span></div><div class="line"></div><div class="line"><span class="keyword">static</span>\js\data-schedule.js: line <span class="number">174</span>, col <span class="number">17</span>, Bad line breaking before <span class="string">'?'</span>.</div><div class="line"><span class="comment">//?:三目运算符分成三行我也是第一次</span></div><div class="line"><span class="keyword">static</span>\js\data-shooter.js: line <span class="number">13</span>, col <span class="number">2</span>, Unnecessary semicolon.</div><div class="line">function hello()&#123;</div><div class="line">&nbsp;&nbsp;<span class="built_in">console</span>.log(<span class="string">"hello"</span>);</div><div class="line">&#125;;<span class="comment">//这里如果有分号就会提示 Unnecessary semicolon.</span></div><div class="line"></div><div class="line"><span class="keyword">static</span>\js\footer.js: line <span class="number">1</span>, col <span class="number">1</span>, <span class="built_in">document</span>.write can be a form <span class="keyword">of</span> <span class="built_in">eval</span>.</div><div class="line"></div><div class="line">document.writeln(<span class="string">'&lt;div class="footer"&gt;'</span>)</div><div class="line"><span class="built_in">document</span>.writeln(<span class="string">'CopyRight©2015 上超联赛有限公司 All Rigths Reserved 沪ICP备15015551号-1'</span>)</div><div class="line"><span class="built_in">document</span>.writeln(<span class="string">'&lt;/div&gt;'</span>)</div><div class="line"></div><div class="line"><span class="comment">//这种写法可以用DocumentFragment 然后找到body 调用appendChild()方法即可</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">static</span>\js\forget.js: line <span class="number">168</span>, col <span class="number">14</span>, Expected an assignment or <span class="function"><span class="keyword">function</span> <span class="title">call</span> <span class="title">and</span> <span class="title">instead</span> <span class="title">saw</span> <span class="title">an</span> <span class="title">expression</span>.</span></div><div class="line"></div><div class="line"><span class="title">var</span> <span class="title">wait</span>=90;</div><div class="line"><span class="title">timeB</span> = <span class="title">false</span>,</div><div class="line"><span class="title">scountdown</span> = <span class="title">false</span>; // <span class="title">line</span> 168</div><div class="line"></div><div class="line">//声明之间用逗号隔开一不小心就会写成分号了</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      写js代码常见问题
    
    </summary>
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>QQ公众平台UI组件相关文章观后感</title>
    <link href="http://www.zhuyangxing.cn/2016/03/18/QQ%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0UI%E7%BB%84%E4%BB%B6%E8%A7%82%E5%90%8E%E6%84%9F/"/>
    <id>http://www.zhuyangxing.cn/2016/03/18/QQ公众平台UI组件观后感/</id>
    <published>2016-03-18T07:29:32.000Z</published>
    <updated>2017-01-14T05:31:39.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="QQ公众平台UI组件相关文章观后感"><a href="#QQ公众平台UI组件相关文章观后感" class="headerlink" title="QQ公众平台UI组件相关文章观后感"></a>QQ公众平台UI组件相关文章观后感</h2><h3 id="无意间的发现"><a href="#无意间的发现" class="headerlink" title="无意间的发现"></a>无意间的发现</h3><p>最近在做项目时总是苦于类名不知道怎么合适的取，就总在想web组件化后应该可以缓解或者说解决这种问题<br>无意间发现了这篇文章 <a href="http://web.jobbole.com/84929/" target="_blank" rel="external">顺势而为，HTML发展与UI组件设计进化</a>读后感触颇深，基于HTML标准开发ui的确这个蛮好的，<br>优点明显更强的语义化，可访问性，便于SEO,学习成本低，可以一次性全局处理</p>
<h3 id="有了发现就有成长"><a href="#有了发现就有成长" class="headerlink" title="有了发现就有成长"></a>有了发现就有成长</h3><p>1.文本域<br>这个就没啥了，验证和校验结果融合在一起，如果想使用自带验证就要想办法修改校验不通过的默认样式<br>添加padding值使文本域显得够大，字体在中间大小合适<br>2.单选框<br>第一次知道一个radio可以有两个(多于一个)label指向它，一个label做前面的选择状态，一个label做文本内容展示<br>3.数字框<br>加减箭头去掉(demo里没找到相关代码，自己百度了个)，但是向上向下的键盘功能还是有的<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">//chrome											</div><div class="line">input::-webkit-outer-spin-button,</div><div class="line">input::-webkit-inner-spin-button &#123;</div><div class="line">  -webkit-appearance: none !important;</div><div class="line">  margin: 0;</div><div class="line">&#125;</div><div class="line">//firefox</div><div class="line">input[type="number"]&#123;</div><div class="line">&nbsp;&nbsp;-moz-appearance:textfield;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>4.下拉框重做<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">div&gt;(a&gt;span+i)+(ul&gt;li)</div></pre></td></tr></table></figure></p>
<p>a标签占据整个下拉框span里是选中的内容，i为下拉箭头，ul为下拉后的内容<br>5.复选框<br>与单选框类似<br>6.switch开关<br>简单讲就是一个复选框（只有一个选项的复选框组）<br>通过使用一个label和伪元素模拟两个层一大一小，根据选中状态设置小层在大层上的位置</p>
<p>label的选中状态在css里就是用<code>:checked</code>过滤选中的元素，用相邻兄弟选择器加号(需要复选框在要定位的<code>label</code>标签的上一个统计元素，位置不能变)来定位<code>label</code><br><code>:checked+.labelClassName</code>  因css选择器是从右向左执行所以效率还是蛮高的</p>
<h3 id="启示"><a href="#启示" class="headerlink" title="启示"></a>启示</h3><p>1.两个简单对象完全可以用伪元素来解决<br>2.选中未选中label样式完全可以在css里使用相邻兄弟选择器来解决</p>
]]></content>
    
    <summary type="html">
    
      hexo博客搭建相关信息及插件配置等
    
    </summary>
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>前端工程构建工具fis3的学习</title>
    <link href="http://www.zhuyangxing.cn/2016/03/11/fis3/"/>
    <id>http://www.zhuyangxing.cn/2016/03/11/fis3/</id>
    <published>2016-03-11T05:32:28.000Z</published>
    <updated>2017-01-14T05:31:39.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>fis很强大对我来说有一下几个方面可供利用，这几点足以让我学习并利用它了<br>1.对文件增加MD5戳（便于增量发布，缓存）<br>2.对某些图片进行合并（把小图标们进行合并很有必要）<br>3.文件压缩（css,js以及图片文件的压缩）<br>4.多个js,css合并为一个</p>
</blockquote>
<p>使用<code>npm install -g fis3</code>命令安装fis3<br>安装完成后执行<code>fis3 -v</code> 判断是否安装成功<br>升级fis使用 <code>npm update -g fis3</code>命令<br>发布<code>fis3 release -d &lt;path&gt;</code> </p>
<p>配置文件<code>fis-conf.js</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line">fis.match(<span class="string">'::packager'</span>, &#123;</div><div class="line"><span class="comment">//打包的时候启用csssprites插件</span></div><div class="line">  spriter: fis.plugin(<span class="string">'csssprites'</span>),</div><div class="line"><span class="comment">//一个页面只包含这个页面用过的资源</span></div><div class="line">  postpackager: fis.plugin(<span class="string">'loader'</span>, &#123;</div><div class="line">    <span class="comment">//allInOne: true</span></div><div class="line">  &#125;)</div><div class="line">&#125;);</div><div class="line"><span class="comment">//js,css,png文件添加MD5戳</span></div><div class="line">fis.match(<span class="string">'*.&#123;js,css,png&#125;'</span>, &#123;</div><div class="line">  <span class="attr">useHash</span>: <span class="literal">true</span></div><div class="line">&#125;);</div><div class="line"><span class="comment">//less文件解析</span></div><div class="line">fis.match(<span class="string">'*.less'</span>, &#123;</div><div class="line">  <span class="comment">// fis-parser-less 插件进行解析 </span></div><div class="line">  <span class="comment">//需要提前安装该插件</span></div><div class="line">  parser: fis.plugin(<span class="string">'less'</span>),</div><div class="line">  <span class="comment">// .less 文件后缀构建后被改成 .css 文件</span></div><div class="line">  rExt: <span class="string">'.css'</span></div><div class="line">&#125;)</div><div class="line">fis.match(<span class="string">'*.&#123;less,css&#125;'</span>, &#123;</div><div class="line"><span class="comment">//需要fis3-postpackager-loader插件</span></div><div class="line">  packTo: <span class="string">'/static/aio.css'</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//生产环境压缩js文件</span></div><div class="line">fis.media(<span class="string">'prod'</span>).match(<span class="string">'*.js'</span>, &#123;</div><div class="line"><span class="comment">// fis-optimizer-uglify-js 插件进行压缩，已内置</span></div><div class="line">  optimizer: fis.plugin(<span class="string">'uglify-js'</span>)</div><div class="line">&#125;);</div><div class="line"><span class="comment">//生产环境压缩css文件,FIS3 构建会对 CSS 中，路径带 ?__sprite的图片进行合并。</span></div><div class="line"><span class="comment">//为了节省编译的时间，分配到 useSprite: true 的 CSS 文件才会被处理。</span></div><div class="line">fis.media(<span class="string">'prod'</span>).match(<span class="string">'*.css'</span>, &#123;</div><div class="line">  <span class="attr">useSprite</span>: <span class="literal">true</span>,</div><div class="line">  <span class="comment">//fis-optimizer-clean-css 插件进行压缩，已内置</span></div><div class="line">  optimizer: fis.plugin(<span class="string">'clean-css'</span>)</div><div class="line">&#125;);</div><div class="line"><span class="comment">//生产环境压缩png文件</span></div><div class="line">fis.media(<span class="string">'prod'</span>).match(<span class="string">'*.png'</span>, &#123;</div><div class="line">  <span class="comment">// fis-optimizer-png-compressor 插件进行压缩，已内置</span></div><div class="line">  optimizer: fis.plugin(<span class="string">'png-compressor'</span>)</div><div class="line">&#125;);</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//debug环境下不使用MD5,</span></div><div class="line"><span class="comment">//fis3 release debug 启用 media debug 的配置</span></div><div class="line">fis.media(<span class="string">'debug'</span>).match(<span class="string">'*.&#123;js,css,png&#125;'</span>, &#123;</div><div class="line">  <span class="attr">useHash</span>: <span class="literal">false</span>,</div><div class="line">  <span class="attr">useSprite</span>: <span class="literal">false</span>,</div><div class="line">  <span class="attr">optimizer</span>: <span class="literal">null</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">//执行 fis3 release 直接发布到某个目录</span></div><div class="line"><span class="comment">// fis.match('*', &#123;</span></div><div class="line"><span class="comment">//   deploy: fis.plugin('local-deliver', &#123;</span></div><div class="line"><span class="comment">//     to: '/Users/my-name/work/htdocs'</span></div><div class="line"><span class="comment">//   &#125;)</span></div><div class="line"><span class="comment">// &#125;)</span></div></pre></td></tr></table></figure></p>
<p>使用 <code>fis3 server open</code>命令开启内部自带的server所在文件夹 默认8080<br>发布到fis自带的server上 <code>fis3 release</code><br>启动文件监听 <code>fis3 release -w</code><br>启动fis3的server <code>fis3 server start</code><br>修改端口并启动<code>fis3 server start -p 10203</code>  </p>
]]></content>
    
    <summary type="html">
    
      前端工程构建工具fis3的学习和使用
    
    </summary>
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>gulp自动化工具的学习</title>
    <link href="http://www.zhuyangxing.cn/2016/03/11/gulp/"/>
    <id>http://www.zhuyangxing.cn/2016/03/11/gulp/</id>
    <published>2016-03-11T05:25:51.000Z</published>
    <updated>2017-01-18T07:46:47.000Z</updated>
    
    <content type="html"><![CDATA[<p>自动化构建在我看来就是以下几个方面：<br>1.自动删除开发时的注释（html,css,js）<br>2.检查文件是否出错(jshint)<br>3.压缩文件（html,css,js,img）<br>4.添加css浏览器兼容<br>在不修改源代码的基础上把构建后的代码及静态文件放到单独的目录里互不影响。</p>
<p>自动化构建工具常用的有两种 grunt和gulp。至于为什么选择gulp看gulp的<a href="http://slides.com/contra/gulp#/11" target="_blank" rel="external">介绍ppt</a>就能明白了，也有比较的文章<a href="http://blog.jobbole.com/81007/" target="_blank" rel="external">Gulp相对于Grunt的优势</a>,当然对于我来说就是gulp比grunt简单，易用，插件多，学习成本低而且能达到相同的功能。</p>
<p><strong>为啥要用自动化构建工具</strong><br>就像 @fouber 讲的一样，前端工程有三个阶段，分别是库/框架选型，简单构建优化，JS/CSS模块化开发<br>几乎任何一个刚入门的前端都默认进入第一阶段，都会选jquery库，因为它使用范围广还有一个原因是你的老师们(或者教你的领导)他们经常用。然后写好了html，css，js等直接往服务器一扔就搞定了。</p>
<p>慢慢的就会发现里面很多注释性的内容，开始考虑删除注释，对文件进行压缩，这时候网上一找真找到这种东西了，这不就是自动化构建工具嘛。</p>
<p>最欣赏的是自动化构建完的文件和本地开发源文件没有任何关联，可以随意修改源文件并重新构建，gulp相当简单只有<a href="http://slides.com/contra/gulp#/17" target="_blank" rel="external">5条命令</a>了解即可。</p>
<p>相关配置代码（gulpfile.js）如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> jsSrc = <span class="string">"static/js/*"</span>,</div><div class="line">&nbsp;&nbsp;jsDec = <span class="string">"./dest/js"</span>,</div><div class="line">&nbsp;&nbsp;imgSrc = <span class="string">"static/img/*"</span>,</div><div class="line">&nbsp;&nbsp;imgDec = <span class="string">"./dest/img"</span>,</div><div class="line">&nbsp;&nbsp;htmlSrc = <span class="string">"static/*.html"</span>,</div><div class="line">&nbsp;&nbsp;htmlDec = <span class="string">"./dest"</span>,</div><div class="line">&nbsp;&nbsp;lessSrc = <span class="string">"static/less/*.less"</span>,</div><div class="line">&nbsp;&nbsp;lessDec = <span class="string">"./dest/css"</span>,</div><div class="line">&nbsp;&nbsp;cssSrc = <span class="string">"static/css/*.css"</span>,</div><div class="line">&nbsp;&nbsp;cssDec = <span class="string">"./dest/css"</span>,</div><div class="line">&nbsp;&nbsp;gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</div><div class="line">&nbsp;&nbsp;livereload = <span class="built_in">require</span>(<span class="string">'gulp-livereload'</span>);</div><div class="line"></div><div class="line"></div><div class="line">gulp.task(<span class="string">'default'</span>, [<span class="string">'img'</span>, <span class="string">'html'</span>, <span class="string">'less'</span>, <span class="string">'css'</span>, <span class="string">'js'</span>], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;<span class="comment">// 将你的默认的任务代码放在这</span></div><div class="line">&nbsp;&nbsp;<span class="built_in">console</span>.log(<span class="string">"this is default!"</span>)</div><div class="line">&#125;);</div><div class="line"></div><div class="line">gulp.task(<span class="string">'px2rem'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> postcss = <span class="built_in">require</span>(<span class="string">'gulp-postcss'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> px2rem = <span class="built_in">require</span>(<span class="string">'postcss-px2rem'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> processors = [px2rem(&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">remUnit</span>: <span class="number">75</span></div><div class="line">&nbsp;&nbsp;&#125;)];</div><div class="line">&nbsp;&nbsp;<span class="keyword">return</span> gulp.src(cssSrc)</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(postcss(processors))</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(gulp.dest(cssDec));</div><div class="line">&#125;);</div><div class="line"></div><div class="line">gulp.task(<span class="string">'autoprefixer'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> postcss = <span class="built_in">require</span>(<span class="string">'gulp-postcss'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> autoprefixer = <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>);</div><div class="line"></div><div class="line">&nbsp;&nbsp;<span class="keyword">return</span> gulp.src(cssSrc)</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(postcss([autoprefixer(&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">browsers</span>: [<span class="string">'last 2 versions'</span>]</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&#125;)]))</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(gulp.dest(cssDec));</div><div class="line">&#125;);</div><div class="line"></div><div class="line">gulp.task(<span class="string">'sourcemaps'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> sourcemaps = <span class="built_in">require</span>(<span class="string">'gulp-sourcemaps'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">return</span> gulp.src(cssSrc)</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(sourcemaps.init())</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(sourcemaps.write(<span class="string">'.'</span>))</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(gulp.dest(cssDec));</div><div class="line">&#125;);</div><div class="line"></div><div class="line">gulp.task(<span class="string">'cssnano'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> cssnano = <span class="built_in">require</span>(<span class="string">'gulp-cssnano'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">return</span> gulp.src(cssSrc)</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(cssnano())</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(gulp.dest(cssDec));</div><div class="line">&#125;);</div><div class="line"></div><div class="line">gulp.task(<span class="string">'less'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> postcss = <span class="built_in">require</span>(<span class="string">'gulp-postcss'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> less = <span class="built_in">require</span>(<span class="string">'gulp-less'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> px2rem = <span class="built_in">require</span>(<span class="string">'postcss-px2rem'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> autoprefixer = <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> cssnano = <span class="built_in">require</span>(<span class="string">'gulp-cssnano'</span>);</div><div class="line"></div><div class="line">&nbsp;&nbsp;<span class="keyword">return</span> gulp.src(lessSrc)</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(less()) <span class="comment">//该任务调用的模块</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(postcss([px2rem(&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">remUnit</span>: <span class="number">75</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&#125;)]))</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(postcss([autoprefixer(&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">browsers</span>: [<span class="string">'last 2 versions'</span>]</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&#125;)]))</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(cssnano())</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(gulp.dest(cssDec));</div><div class="line">&#125;);</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//png,jpg,gif,svg</span></div><div class="line">gulp.task(<span class="string">'img'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> pngquant = <span class="built_in">require</span>(<span class="string">'imagemin-pngquant'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">return</span> gulp.src(imgSrc)</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(imagemin(&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">progressive</span>: <span class="literal">true</span>,</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">svgoPlugins</span>: [&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">removeViewBox</span>: <span class="literal">false</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;, &#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">cleanupIDs</span>: <span class="literal">false</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;],</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">use</span>: [pngquant()]</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&#125;))</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(gulp.dest(imgDec));</div><div class="line">&#125;);</div><div class="line"></div><div class="line">gulp.task(<span class="string">'html'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> htmlmin = <span class="built_in">require</span>(<span class="string">'gulp-htmlmin'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">return</span> gulp.src(htmlSrc)</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(htmlmin(&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">collapseWhitespace</span>: <span class="literal">true</span>,</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">removeComments</span>: <span class="literal">true</span>,</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">minifyJS</span>: <span class="literal">true</span>,</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">minifyCSS</span>: <span class="literal">true</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&#125;))</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(gulp.dest(htmlDec));</div><div class="line">&#125;);</div><div class="line"></div><div class="line">gulp.task(<span class="string">'css'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> postcss = <span class="built_in">require</span>(<span class="string">'gulp-postcss'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> px2rem = <span class="built_in">require</span>(<span class="string">'postcss-px2rem'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> autoprefixer = <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>);</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> cssnano = <span class="built_in">require</span>(<span class="string">'gulp-cssnano'</span>);</div><div class="line"></div><div class="line">&nbsp;&nbsp;<span class="keyword">return</span> gulp.src(cssSrc)</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(postcss([px2rem(&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">remUnit</span>: <span class="number">75</span></div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&#125;)]))</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(postcss([autoprefixer(&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attr">browsers</span>: [<span class="string">'last 2 versions'</span>]</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;&#125;)]))</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(cssnano())</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(gulp.dest(cssDec));</div><div class="line">&#125;);</div><div class="line"></div><div class="line">gulp.task(<span class="string">'js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> jshint = <span class="built_in">require</span>(<span class="string">'gulp-jshint'</span>),</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>);</div><div class="line"></div><div class="line">&nbsp;&nbsp;<span class="keyword">return</span> gulp.src(jsSrc)</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(jshint())</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(jshint.reporter(<span class="string">'default'</span>))</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(uglify())</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;.pipe(gulp.dest(jsDec));</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// 监听任务 运行语句 gulp watch</span></div><div class="line">gulp.task(<span class="string">'watch'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;<span class="keyword">var</span> server = livereload();</div><div class="line">&nbsp;&nbsp;gulp.watch(htmlSrc, [<span class="string">'html'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">file</span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;server.changed(file.path);</div><div class="line">&nbsp;&nbsp;&#125;);</div><div class="line">&nbsp;&nbsp;gulp.watch(lessSrc, [<span class="string">"less"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">file</span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;server.changed(file.path);</div><div class="line">&nbsp;&nbsp;&#125;);</div><div class="line">&nbsp;&nbsp;gulp.watch(cssSrc, [<span class="string">"css"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">file</span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;server.changed(file.path);</div><div class="line">&nbsp;&nbsp;&#125;);</div><div class="line">&nbsp;&nbsp;gulp.watch(imgSrc, [<span class="string">"img"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">file</span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;server.changed(file.path);</div><div class="line">&nbsp;&nbsp;&#125;);</div><div class="line">&nbsp;&nbsp;gulp.watch(jsSrc, [<span class="string">"js"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">file</span>) </span>&#123;</div><div class="line">&nbsp;&nbsp;&nbsp;&nbsp;server.changed(file.path);</div><div class="line">&nbsp;&nbsp;&#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>对<code>less</code>，没想到更好的想法，我这里是单独处理，生成<code>css</code>后依旧需要添加前缀，删除注释，px转rem等<br>把<code>gulp.js</code>放在项目根目录，在项目根目录运行 <code>gulp &amp; gulp watch</code> 就会自动进行构建。<br>用到插件如图：<br><img src="http://7xl9u9.com1.z0.glb.clouddn.com/glup.png" alt="图片"></p>
<h3 id="gulp-4-0"><a href="#gulp-4-0" class="headerlink" title="gulp 4.0"></a>gulp 4.0</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"># 卸载全局的 gulp</div><div class="line">$ npm uninstall gulp -g </div><div class="line"># 安装全局的 gulp 4.0 </div><div class="line">$ npm install &quot;gulpjs/gulp-cli#4.0&quot; -g </div><div class="line">$ npm install &quot;gulpjs/gulp#4.0&quot; -g  </div><div class="line"># 到项目目录里删掉本地的 gulp</div><div class="line">$ npm rm gulp --save-dev </div><div class="line"># 安装本地的 gulp 4.0</div><div class="line">$ npm install &quot;gulpjs/gulp#4.0&quot; --save-dev</div></pre></td></tr></table></figure>
<p> 4.0主要增加了<code>gulp.series</code>和<code>gulp.parallel</code>两个方法。<br><code>gulp.series</code>里的任务是顺序执行的。<br><code>gulp.parallel</code>里的任务是同时执行的。</p>
<p>关于gulp4.0<a href="http://web.jobbole.com/82992/" target="_blank" rel="external">更多</a>信息</p>
<p>如有不对的地方还望各位看官给予指正。</p>
]]></content>
    
    <summary type="html">
    
      gulp自动化构建工具的使用
    
    </summary>
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="http://www.zhuyangxing.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
</feed>
